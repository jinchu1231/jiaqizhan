{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/views/workFlow/formDesign/FieldForm.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/views/workFlow/formDesign/FieldForm.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/babel.config.js","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/\\u4EA4\\u5B89/gas/vue/gas-web/node_modules/_@babel_runtime@7.24.5@@babel/runtime/helpers/interopRequireDefault.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es7.array.includes\");\nvar _typeof2 = _interopRequireDefault(require(\"/Users/\\u4EA4\\u5B89/gas/vue/gas-web/node_modules/_@babel_runtime-corejs2@7.24.5@@babel/runtime-corejs2/helpers/typeof.js\"));\nvar _utils = require(\"@/utils\");\nvar _config = require(\"@/components/Generator/generator/config\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar ignoreList = ['divider', 'text', 'link', 'alert', 'button', 'table'];\nvar _default = exports.default = {\n  props: ['conf', 'enCode'],\n  data: function data() {\n    return {\n      componentList: [],\n      drawingList: []\n    };\n  },\n  created: function created() {\n    this.getComponentList();\n    if ((0, _typeof2.default)(this.conf) === 'object' && this.conf !== null) {\n      this.drawingList = (0, _utils.deepClone)(this.conf);\n    }\n  },\n  methods: {\n    /**\n      * 供父组件使用 获取表单JSON\n    */\n    getData: function getData() {\n      var _this = this;\n      return new Promise(function (resolve, reject) {\n        if (!_this.exist()) return;\n        if (!_this.drawingList.length) {\n          reject({\n            msg: '表单列表不允许为空',\n            target: 1\n          });\n          return;\n        }\n        resolve({\n          formData: _this.drawingList,\n          target: 1\n        });\n      });\n    },\n    getComponentList: function getComponentList() {\n      var realInputComponents = _config.inputComponents.filter(function (o) {\n        return !ignoreList.includes(o.__config__.jnpfKey);\n      });\n      var realSelectComponents = _config.selectComponents.filter(function (o) {\n        return !ignoreList.includes(o.__config__.jnpfKey);\n      });\n      this.componentList = [{\n        id: '1',\n        fullName: '基础控件',\n        children: realInputComponents\n      }, {\n        id: '2',\n        fullName: '高级控件',\n        children: realSelectComponents\n      }, {\n        id: '3',\n        fullName: '系统控件',\n        children: _config.systemComponents\n      }];\n    },\n    // 验证\n    exist: function exist() {\n      var _this2 = this;\n      var isOk = true;\n      //  遍历数组，判断非空\n      var _loop = function _loop() {\n          var e = _this2.drawingList[i];\n          if (!e.filedName) {\n            _this2.$message({\n              showClose: true,\n              message: '名称不能为空',\n              type: 'error',\n              duration: 1000\n            });\n            isOk = false;\n            return 0; // break\n          }\n          var num = _this2.drawingList.filter(function (o) {\n            return o.filedName == e.filedName;\n          });\n          if (num.length > 1) {\n            _this2.$message({\n              showClose: true,\n              message: \"\\u540D\\u79F0'\".concat(e.filedName, \"'\\u5DF2\\u91CD\\u590D\"),\n              type: 'error',\n              duration: 1000\n            });\n            isOk = false;\n            return 0; // break\n          }\n          if (!e.filedId) {\n            _this2.$message({\n              showClose: true,\n              message: '字段不能为空',\n              type: 'error',\n              duration: 1000\n            });\n            isOk = false;\n            return 0; // break\n          }\n          var idNum = _this2.drawingList.filter(function (o) {\n            return o.filedId == e.filedId;\n          });\n          if (idNum.length > 1) {\n            _this2.$message({\n              showClose: true,\n              message: \"\\u5B57\\u6BB5'\".concat(e.filedId, \"'\\u5DF2\\u91CD\\u590D\"),\n              type: 'error',\n              duration: 1000\n            });\n            isOk = false;\n            return 0; // break\n          }\n        },\n        _ret;\n      for (var i = 0; i < this.drawingList.length; i++) {\n        _ret = _loop();\n        if (_ret === 0) break;\n      }\n      return isOk;\n    },\n    handleDel: function handleDel(index) {\n      this.drawingList.splice(index, 1);\n    },\n    addHandle: function addHandle() {\n      var item = {\n        filedName: \"\",\n        filedId: \"\",\n        jnpfKey: \"\",\n        required: false,\n        multiple: false\n      };\n      this.drawingList.push(item);\n    }\n  }\n};",null]}