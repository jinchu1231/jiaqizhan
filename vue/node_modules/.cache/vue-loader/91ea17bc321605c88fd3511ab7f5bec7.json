{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/views/workFlow/formDesign/Form.vue?vue&type=template&id=59012a9b&scoped=true","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/views/workFlow/formDesign/Form.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<el-dialog :visible.sync=\"visible\" fullscreen lock-scroll class=\"JNPF-full-dialog\"\n  :show-close=\"false\" :modal=\"false\" append-to-body>\n  <div class=\"JNPF-full-dialog-header\">\n    <div class=\"header-title\">\n      <img src=\"@/assets/images/jnpf.png\" class=\"header-logo\" />\n      <p class=\"header-txt\" v-if=\"activeStep==0\"> · 表单设计</p>\n      <el-tooltip effect=\"dark\" :content=\"dataForm.fullName\" placement=\"bottom\" v-else\n        style=\"z-index:5000\">\n        <p class=\"header-txt\"> · {{dataForm.fullName}}</p>\n      </el-tooltip>\n    </div>\n    <el-steps :active=\"activeStep\" finish-status=\"success\" simple class=\"steps\">\n      <el-step title=\"基础信息\" @click.native=\"stepChick(0)\" />\n      <el-step title=\"表单设计\" @click.native=\"stepChick(1)\" />\n    </el-steps>\n    <div class=\"options\">\n      <el-button @click=\"prev\" :disabled=\"activeStep<=0||btnLoading\">{{$t('common.prev')}}\n      </el-button>\n      <el-button @click=\"next\" :disabled=\"activeStep>=1||loading||btnLoading\">\n        {{$t('common.next')}}\n      </el-button>\n      <template>\n        <el-button type=\"primary\" @click=\"dataFormSubmit()\" :disabled=\"loading\"\n          :loading=\"btnLoading\">保 存</el-button>\n      </template>\n      <el-button @click=\"closeDialog()\">{{$t('common.cancelButton')}}</el-button>\n    </div>\n  </div>\n  <div class=\"main\" v-loading=\"loading\">\n    <el-row type=\"flex\" justify=\"center\" align=\"middle\" v-if=\"!activeStep\" class=\"basic-box\">\n      <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"10\" class=\"basicForm\">\n        <el-form :model=\"dataForm\" :rules=\"dataRule\" ref=\"dataForm\" label-width=\"100px\"\n          @submit.native.prevent label-position=\"right\">\n          <jnpf-form-tip-item label=\"表单名称\" prop=\"fullName\">\n            <el-input v-model=\"dataForm.fullName\" placeholder=\"表单名称\" maxlength=\"50\"></el-input>\n          </jnpf-form-tip-item>\n          <jnpf-form-tip-item label=\"表单编码\" prop=\"enCode\">\n            <el-input v-model=\"dataForm.enCode\" placeholder=\"表单编码\" maxlength=\"50\"></el-input>\n          </jnpf-form-tip-item>\n          <jnpf-form-tip-item label=\"表单类型\" prop=\"formType\">\n            <el-input v-model=\"formType\" maxlength=\"50\" disabled></el-input>\n          </jnpf-form-tip-item>\n          <template v-if=\"dataForm.formType==1\">\n            <jnpf-form-tip-item label=\"表单类别\" prop=\"flowType\">\n              <el-radio-group v-model=\"dataForm.flowType\" size=\"small\">\n                <el-radio-button :label=\"0\">发起表单</el-radio-button>\n                <el-radio-button :label=\"1\">功能表单</el-radio-button>\n              </el-radio-group>\n            </jnpf-form-tip-item>\n            <jnpf-form-tip-item label=\"Web地址\" prop=\"urlAddress\" tip-label=\"Web地址配置为前端物理地址\">\n              <el-input v-model=\"dataForm.urlAddress\" placeholder=\"Web地址\">\n                <template slot=\"prepend\">@/views/</template>\n              </el-input>\n            </jnpf-form-tip-item>\n            <jnpf-form-tip-item label=\"App地址\" prop=\"appUrlAddress\"\n              tip-label=\"APP地址配置为前端物理地址，需与代码同步更新\">\n              <el-input v-model=\"dataForm.appUrlAddress\" placeholder=\"App地址\" />\n            </jnpf-form-tip-item>\n            <jnpf-form-tip-item label=\"接口地址\" prop=\"interfaceUrl\"\n              tip-label=\"后端接口请求地址, 系统将会请求地址中的saveData(post方法), getData(get方法)接口例：/api/example/UserController\">\n              <el-input v-model=\"dataForm.interfaceUrl\" placeholder=\"接口地址\" />\n            </jnpf-form-tip-item>\n          </template>\n          <jnpf-form-tip-item label=\"表单排序\" prop=\"sortCode\">\n            <el-input-number :min=\"0\" :max=\"999999\" v-model=\"dataForm.sortCode\"\n              controls-position=\"right\" />\n          </jnpf-form-tip-item>\n          <jnpf-form-tip-item label=\"表单说明\" prop=\"description\">\n            <el-input v-model=\"dataForm.description\" placeholder=\"流程说明\" type=\"textarea\"\n              :rows=\"3\" />\n          </jnpf-form-tip-item>\n          <template>\n            <template v-if=\"dataForm.formType==2\">\n              <jnpf-form-tip-item label=\"数据连接\">\n                <el-select v-model=\"dataForm.dbLinkId\" placeholder=\"请选择数据库\" @change=\"onDbChange\"\n                  clearable filterable>\n                  <el-option-group v-for=\"group in dbOptions\" :key=\"group.fullName\"\n                    :label=\"group.fullName\">\n                    <el-option v-for=\"item in group.children\" :key=\"item.id\"\n                      :label=\"item.fullName\" :value=\"item.id\" />\n                  </el-option-group>\n                </el-select>\n              </jnpf-form-tip-item>\n              <el-table :data=\"tables\" class=\"JNPF-common-table\"\n                empty-text=\"点击“新增”可选择 1 条（单表）或 2 条以上（多表）\">\n                <el-table-column type=\"index\" label=\"序号\" width=\"50\" align=\"center\" />\n                <el-table-column prop=\"typeId\" label=\"类别\" width=\"65\">\n                  <template slot-scope=\"scope\">\n                    <el-tag v-if=\"scope.row.typeId=='1'\">主表</el-tag>\n                    <el-tag type=\"warning\" v-else @click=\"changeTable(scope.row)\"\n                      style=\"cursor:pointer\" title=\"点击设置成主表\">从表</el-tag>\n                  </template>\n                </el-table-column>\n                <el-table-column prop=\"table\" label=\"表名\">\n                  <template slot-scope=\"scope\">\n                    <el-tooltip :content=\"scope.row.tableName||scope.row.table\" placement=\"top\">\n                      <span>{{scope.row.table}}</span>\n                    </el-tooltip>\n                  </template>\n                </el-table-column>\n                <el-table-column prop=\"tableField\" label=\"外键字段\">\n                  <template slot-scope=\"scope\" v-if=\"scope.row.typeId !=='1'\">\n                    <el-select v-model=\"scope.row.tableField\" placeholder=\"请选择\" filterable>\n                      <el-option v-for=\"item in scope.row.fields\" :key=\"item.field\"\n                        :label=\"item.field\" :value=\"item.field\">\n                      </el-option>\n                    </el-select>\n                  </template>\n                </el-table-column>\n                <el-table-column prop=\"relationField\" label=\"关联主键\">\n                  <template slot-scope=\"scope\" v-if=\"scope.row.typeId !=='1'\">\n                    <el-select v-model=\"scope.row.relationField\" placeholder=\"请选择\" filterable>\n                      <el-option v-for=\"item in mainTableFields\" :key=\"item.field\"\n                        :label=\"item.field\" :value=\"item.field\">\n                      </el-option>\n                    </el-select>\n                  </template>\n                </el-table-column>\n                <el-table-column label=\"操作\" fixed=\"right\" width=\"50\">\n                  <template slot-scope=\"scope\">\n                    <el-button size=\"mini\" type=\"text\" class=\"JNPF-table-delBtn\"\n                      @click=\"delItem(scope.row,scope.$index)\">移除\n                    </el-button>\n                  </template>\n                </el-table-column>\n              </el-table>\n              <div class=\"table-actions\" @click=\"openTableBox\">\n                <el-button type=\"text\" icon=\"el-icon-plus\">新增一行</el-button>\n              </div>\n            </template>\n          </template>\n        </el-form>\n      </el-col>\n    </el-row>\n    <template v-if=\"activeStep==1\">\n      <template v-if=\"this.dataForm.formType == 2\">\n        <Generator ref=\"generator\" :conf=\"draftJson\" :modelType=\"6\" :dbType=\"dbType\" />\n      </template>\n      <template v-else>\n        <el-row type=\"flex\" justify=\"center\" align=\"middle\" class=\"basic-box\">\n          <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"10\" class=\"basicForm\">\n            <FieldForm ref=\"fieldForm\" :conf=\"draftJson\" :enCode=\"dataForm.enCode\" />\n          </el-col>\n        </el-row>\n      </template>\n    </template>\n  </div>\n  <TableForm :visible.sync=\"formVisible\" ref=\"tableForm\" @closeForm=\"closeForm\"\n    :dbLinkId=\"dataForm.dbLinkId\" />\n</el-dialog>\n",null]}