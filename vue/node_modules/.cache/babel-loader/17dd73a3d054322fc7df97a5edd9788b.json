{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/views/msgCenter/sendConfig/TestSend.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/views/msgCenter/sendConfig/TestSend.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/babel.config.js","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/\\u4EA4\\u5B89/gas/vue/gas-web/node_modules/_@babel_runtime@7.24.5@@babel/runtime/helpers/interopRequireDefault.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _sendConfig = require(\"@/api/msgCenter/sendConfig\");\nvar _SendResults = _interopRequireDefault(require(\"./SendResults\"));\nvar _TemplateDetail = _interopRequireDefault(require(\"@/components/Process/PropPanel/TemplateDetail\"));\nvar _utils = require(\"../../../components/Generator/utils\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = exports.default = {\n  components: {\n    SendResults: _SendResults.default,\n    Detail: _TemplateDetail.default\n  },\n  name: 'sendConfig-TestSend',\n  data: function data() {\n    return {\n      btnLoading: false,\n      loading: false,\n      resultsVisible: false,\n      viewVisible: false,\n      resultData: [],\n      testSendData: [],\n      resultList: []\n    };\n  },\n  methods: {\n    goBack: function goBack() {\n      this.$emit('close');\n    },\n    init: function init(id) {\n      var _this = this;\n      this.$nextTick(function () {\n        if (id) {\n          _this.loading = true;\n          (0, _sendConfig.testSendConfigInfo)(id).then(function (res) {\n            _this.testSendData = res.data;\n            for (var index = 0; index < _this.testSendData.length; index++) {\n              var item = _this.testSendData[index];\n              item.paramJson = item.paramJson || [];\n              item.toUser = item.toUser || [];\n            }\n            _this.loading = false;\n          }).catch(function () {\n            _this.loading = false;\n          });\n        }\n      });\n    },\n    dataFormSubmit: function dataFormSubmit() {\n      var _this2 = this;\n      for (var i = 0; i < this.testSendData.length; i++) {\n        var item = this.testSendData[i];\n        if (item.toUser && !item.toUser.length && item.messageType != 'webhook') {\n          return this.$message.error(\"\".concat(item.msgTemplateName, \"\\u7684\\u63A5\\u6536\\u4EBA\\u4E3A\\u7A7A\\uFF01\"));\n        }\n        if (item.paramJson && item.paramJson.length) {\n          for (var j = 0; j < item.paramJson.length; j++) {\n            var cur = item.paramJson[j];\n            if (!cur.value) {\n              return this.$message.error(\"\".concat(item.msgTemplateName, \"\\u53C2\\u6570\\u5BF9\\u5E94\\u7684\\u53D8\\u91CF\\u4E3A\\u7A7A\\uFF01\"));\n            }\n          }\n        }\n      }\n      var data = (0, _utils.deepClone)(this.testSendData);\n      this.btnLoading = true;\n      (0, _sendConfig.testSendConfig)(data).then(function (res) {\n        _this2.btnLoading = false;\n        _this2.resultList = res.data;\n        _this2.showSendResults();\n      }).catch(function () {\n        _this2.btnLoading = false;\n      });\n    },\n    showSendResults: function showSendResults() {\n      var _this3 = this;\n      this.resultsVisible = true;\n      this.$nextTick(function () {\n        _this3.$refs.ResultsDialog && _this3.$refs.ResultsDialog.init(_this3.resultList);\n      });\n    },\n    goDetail: function goDetail(id) {\n      var _this4 = this;\n      this.viewVisible = true;\n      this.$nextTick(function () {\n        _this4.$refs.View.init(id);\n      });\n    }\n  }\n};",null]}