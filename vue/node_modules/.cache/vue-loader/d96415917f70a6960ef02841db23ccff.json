{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/views/msgCenter/msgTemplate/Form.vue?vue&type=template&id=509b4e2b&scoped=true","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/views/msgCenter/msgTemplate/Form.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<transition name=\"el-zoom-in-center\">\n  <div class=\"JNPF-preview-main flow-form-main\">\n    <div class=\"JNPF-common-page-header\">\n      <el-page-header @back=\"goBack\" :content=\"!dataForm.id ? '新建' : '编辑'\" />\n      <div class=\"options\">\n        <el-button type=\"primary\" @click=\"dataFormSubmit()\" :loading=\"btnLoading\">\n          {{$t('common.confirmButton')}}</el-button>\n        <el-button @click=\"goBack()\">{{$t('common.cancelButton')}}</el-button>\n      </div>\n    </div>\n    <el-row class=\"main\" v-loading=\"loading\">\n      <el-form :model=\"dataForm\" :rules=\"dataRule\" ref=\"dataForm\" label-width=\"100px\"\n        @submit.native.prevent>\n        <el-col :span=\"12\">\n          <el-form-item label=\"名称\" prop=\"fullName\">\n            <el-input v-model=\"dataForm.fullName\" placeholder=\"请输入名称\" clearable></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"编码\" prop=\"enCode\">\n            <el-input v-model=\"dataForm.enCode\" placeholder=\"请输入编码\" clearable></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"模板类型\">\n            <el-input value=\"自定义模板\" disabled clearable></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"消息来源\" prop=\"messageSource\">\n            <el-select v-model=\"dataForm.messageSource\" placeholder=\"请选择消息来源\" clearable\n              :disabled=\"this.dataForm.id?true:false\" filterable @change=\"onMessageSourceChange\">\n              <el-option v-for=\"(item,index) in messageSourceList\" :key=\"index\"\n                :label=\"item.fullName\" :value=\"item.enCode\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"消息类型\" prop=\"messageType\">\n            <el-select v-model=\"dataForm.messageType\" placeholder=\"请选择消息类型\" clearable\n              :disabled=\"this.dataForm.id?true:false\" @change=\"onMsgTypeChange\" filterable>\n              <el-option v-for=\"(item,index) in messageTypeList\" :key=\"index\"\n                :label=\"item.fullName\" :value=\"item.enCode\">\n              </el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"状态\" prop=\"enabledMark\">\n            <el-switch v-model=\"dataForm.enabledMark\" :active-value=\"1\" :inactive-value=\"0\" />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"排序\" prop=\"sortCode\">\n            <el-input-number :min=\"0\" :max=\"999999\" v-model=\"dataForm.sortCode\"\n              controls-position=\"right\" />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"24\">\n          <el-form-item label=\"说明\" prop=\"description\">\n            <el-input v-model=\"dataForm.description\" placeholder=\"请输入说明\" type=\"textarea\"\n              :rows=\"3\" />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"24\">\n          <div class=\"parameter-box\">\n            <div class=\"left-pane\">\n              <div class=\"left-pane-list\">\n                <div class=\"list\">\n                  <div class=\"header\">\n                    <span>参数名称</span>\n                    <span>参数说明</span>\n                    <span class=\"operation\">操作</span>\n                  </div>\n                  <el-input v-model=\"keyword\" placeholder=\"请输入关键字\" suffix-icon=\"el-icon-search\"\n                    clearable @input='searchParameter' />\n                  <el-table :data=\"parameterList\" :showHeader=\"false\" ref=\"dragTable\" row-key=\"id\"\n                    size='mini' height=\"100%\">\n                    <el-table-column prop=\"field\" label=\"参数名称\">\n                      <template slot-scope=\"scope\">\n                        <p @click=\"addContent(scope.row)\" style=\"cursor:pointer\">\n                          {{scope.row.field}}\n                        </p>\n                      </template>\n                    </el-table-column>\n                    <el-table-column prop=\"fieldName\" label=\"参数说明\">\n                      <template slot-scope=\"scope\">\n                        <p @click=\"addContent(scope.row)\" style=\"cursor:pointer;line-height:36px\">\n                          {{scope.row.fieldName}}\n                        </p>\n                      </template>\n                    </el-table-column>\n                    <el-table-column label=\"操作\" width=\"70\">\n                      <template slot-scope=\"scope\" v-if=\"!getIsSystem(scope.row.field)\">\n                        <el-button type=\"text\" @click=\"addEditParameter(scope.row,scope.$index)\"\n                          icon=\"el-icon-edit-outline\"></el-button>\n                        <el-button type=\"text\" class=\"JNPF-table-delBtn\" icon=\"el-icon-delete\"\n                          @click=\"removeParameter(scope.$index)\"></el-button>\n                      </template>\n                    </el-table-column>\n                  </el-table>\n                </div>\n                <div class=\"table-actions\" @click=\"addEditParameter()\"\n                  v-if=\"dataForm.messageSource==='2'\">\n                  <el-button type=\"text\" icon=\"el-icon-plus\">新建</el-button>\n                </div>\n              </div>\n            </div>\n            <div class=\"right-pane\" v-if=\"dataForm.messageType != 3&&dataForm.messageType != 7\">\n              <jnpf-form-tip-item label=\"消息标题\" prop=\"title\" :tipLabel=\"getTipLabel()\">\n                <el-input v-model=\"dataForm.title\" placeholder=\"请输入消息标题\" clearable></el-input>\n              </jnpf-form-tip-item>\n              <jnpf-form-tip-item label=\"消息内容\" prop=\"content\" v-if=\"dataForm.messageType == 2\"\n                :tipLabel=\"getTipLabel()\">\n                <JnpfEditor v-model=\"dataForm.content\" ref=\"myQuillEditor\"\n                  placeholder=\"请输入消息内容\" />\n              </jnpf-form-tip-item>\n              <jnpf-form-tip-item label=\"消息内容\" prop=\"content\"\n                v-else-if=\"dataForm.messageType != 1\" :tipLabel=\"getTipLabel()\">\n                <el-input v-model=\"dataForm.content\" placeholder=\"请输入消息内容\" type=\"textarea\"\n                  :rows=\"19\" />\n              </jnpf-form-tip-item>\n            </div>\n            <div class=\"right-pane\" v-else>\n              <el-row :gutter=\"20\">\n                <el-col :span=\"12\">\n                  <jnpf-form-tip-item label=\"模版编号\" prop=\"templateCode\"\n                    :tipLabel=\"dataForm.messageType==3?'阿里云：请在【阿里云管理后台-模板管理】⻚⾯查看模板CODE<br/>腾讯云：请在【腾讯云管理后台-正⽂模板管理】⻚⾯查看模板ID':'在【微信公众号管理后台-广告与服务-模板消息】⻚⾯查看模板ID'\">\n                    <el-input v-model=\"dataForm.templateCode\" placeholder=\"请输入模版编号\" />\n                  </jnpf-form-tip-item>\n                </el-col>\n                <el-col :span=\"12\" offset=\"12\"></el-col>\n                <el-col :span=\"12\" v-if=\"dataForm.messageType == 7\">\n                  <jnpf-form-tip-item label=\"跳转方式\" prop=\"wxSkip\">\n                    <el-select v-model=\"dataForm.wxSkip\" placeholder=\"请选择跳转方式\" clearable\n                      filterable>\n                      <el-option v-for=\"(item,index) in wxSkipList\" :key=\"index\"\n                        :label=\"item.fullName\" :value=\"item.enCode\">\n                      </el-option>\n                    </el-select>\n                  </jnpf-form-tip-item>\n                </el-col>\n                <el-col :span=\"12\" v-if=\"dataForm.messageType == 7&&dataForm.wxSkip == 1\">\n                  <jnpf-form-tip-item label=\"关联小程序ID\" prop=\"xcxAppId\" label-width=\"126px\"\n                    tipLabel=\"请在【微信公众号管理后台-广告与服务-小程序管理】⻚⾯查看小程序ID\">\n                    <el-input v-model=\"dataForm.xcxAppId\" placeholder=\"请输入关联小程序ID\" clearable />\n                  </jnpf-form-tip-item>\n                </el-col>\n              </el-row>\n              <div class=\"msg-pane\">\n                <div class=\"list\">\n                  <el-table :data=\"smsList\" ref=\"dragTable\" row-key=\"id\" size='mini'\n                    height=\"100%\">\n                    <el-table-column label=\"序号\" type=\"index\" width=\"50\"></el-table-column>\n                    <el-table-column prop=\"name\">\n                      <template slot=\"header\">\n                        <p>\n                          变量\n                          <el-tooltip placement=\"top\">\n                            <div slot=\"content\" v-if=\"dataForm.messageType==3\">\n                              阿里云：在【阿里云管理后台-模板管理】维护模板变量参数<br />腾讯云：在【腾讯云管理后台-正⽂模板管理】维护模板变量参数</div>\n                            <div slot=\"content\" v-else>在【微信公众号管理后台-广告与服务-模板消息】维护模板参数</div>\n                            <a class=\"el-icon-question tooltip-question\"></a>\n                          </el-tooltip>\n                        </p>\n                      </template>\n                      <template slot-scope=\"scope\">\n                        <el-input v-model=\"scope.row.smsField\"\n                          :placeholder=\"dataForm.messageType==3?'请输入短信变量':'请输入变量'\"></el-input>\n                      </template>\n                    </el-table-column>\n                    <el-table-column label=\"参数\">\n                      <template slot-scope=\"scope\">\n                        <el-select v-model=\"scope.row.field\" placeholder=\"请选择参数\" clearable\n                          filterable>\n                          <el-option v-for=\"(item,index) in parameterList\" :key=\"index\"\n                            :label=\"item.field\" :value=\"item.field\">\n                          </el-option>\n                        </el-select>\n                      </template>\n                    </el-table-column>\n                    <el-table-column label=\"标题\" width=\"70\" v-if=\"dataForm.messageType==7\">\n                      <template slot-scope=\"scope\">\n                        <el-checkbox v-model=\"scope.row.isTitle\"\n                          @change='changeKey($event,scope.row)' :true-label=\"1\"\n                          :false-label=\"0\" />\n                      </template>\n                    </el-table-column>\n                    <el-table-column label=\"操作\" width=\"70\">\n                      <template slot-scope=\"scope\">\n                        <el-button type=\"text\" class=\"JNPF-table-delBtn\" icon=\"el-icon-delete\"\n                          @click=\"removeSmsData(scope.$index)\"></el-button>\n                      </template>\n                    </el-table-column>\n                  </el-table>\n                </div>\n                <div class=\"table-actions\" @click=\"addSmsData\">\n                  <el-button type=\"text\" icon=\"el-icon-plus\">添加一行</el-button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </el-col>\n      </el-form>\n    </el-row>\n    <el-dialog :title=\"isEdit?'编辑':'新建'\" :visible.sync=\"dialogVisible\"\n      :close-on-click-modal=\"false\" class=\"JNPF-dialog JNPF-dialog_center\" lock-scroll\n      append-to-body width=\"600px\">\n      <el-form :model=\"fieldForm\" :rules=\"fieldRule\" ref=\"fieldForm\" label-width=\"100px\">\n        <jnpf-form-tip-item label=\"参数名称\" prop=\"field\"\n          :tip-label=\"isEdit?'':'可以使用大小写英文字母、数字、下划线组合，且不能数字、下划线开头。'\" placement=\"top-start\">\n          <el-input v-model=\"fieldForm.field\" placeholder=\"请输入参数名称\" :disabled=\"isEdit\" />\n        </jnpf-form-tip-item>\n        <jnpf-form-tip-item label=\"参数说明\" prop=\"fieldName\">\n          <el-input v-model=\"fieldForm.fieldName\" placeholder=\"请输入参数说明\"></el-input>\n        </jnpf-form-tip-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible=false\">{{$t('common.cancelButton')}}\n        </el-button>\n        <el-button type=\"primary\" @click=\"addParameter()\">\n          {{$t('common.confirmButton')}}</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</transition>\n",null]}