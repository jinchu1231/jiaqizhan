{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/views/extend/email/Config.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/views/extend/email/Config.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { ConfigInfo, CheckMail, SaveConfig } from '@/api/extend/email'\nexport default {\n  data() {\n    return {\n      visible: false,\n      testLoad: false,\n      dataForm: {\n        pop3Host: '',\n        pop3Port: null,\n        smtpHost: '',\n        smtpPort: null,\n        senderName: '',\n        account: '',\n        password: '',\n        emailSsl: 0\n      },\n      dataRule: {\n        pop3Host: [\n          { required: true, message: 'POP3服务不能为空', trigger: 'blur' }\n        ],\n        pop3Port: [\n          { required: true, message: 'POP3端口不能为空', trigger: 'blur' }\n        ],\n        smtpHost: [\n          { required: true, message: 'SMTP服务不能为空', trigger: 'blur' }\n        ],\n        smtpPort: [\n          { required: true, message: 'SMTP端口不能为空', trigger: 'blur' }\n        ],\n        senderName: [\n          { required: true, message: '显示名称不能为空', trigger: 'blur' }\n        ],\n        account: [\n          { required: true, message: '邮箱地址不能为空', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, message: '邮箱密码不能为空', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    init() {\n      this.visible = true\n      this.$nextTick(() => {\n        this.$refs['dataForm'].resetFields()\n        ConfigInfo().then(res => {\n          if (!res.data) return\n          this.dataForm = res.data\n        })\n      })\n    },\n    dataFormSubmit() {\n      this.$refs['dataForm'].validate((valid) => {\n        if (valid) {\n          SaveConfig(this.dataForm).then(res => {\n            this.$message({\n              message: res.msg,\n              type: 'success',\n              duration: 1500,\n              onClose: () => {\n                this.visible = false\n              }\n            })\n          })\n        }\n      })\n    },\n    test() {\n      this.$refs['dataForm'].validate((valid) => {\n        if (valid) {\n          this.testLoad = true\n          CheckMail(this.dataForm).then(res => {\n            this.$message({\n              message: res.msg,\n              type: 'success',\n              duration: 1500,\n            })\n            this.testLoad = false\n          }).catch(() => {\n            this.testLoad = false\n          })\n        }\n      })\n    }\n  }\n}\n",null]}