{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/views/system/menu/menuManage.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/views/system/menu/menuManage.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/babel.config.js","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/\\u4EA4\\u5B89/gas/vue/gas-web/node_modules/_@babel_runtime@7.24.5@@babel/runtime/helpers/interopRequireDefault.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"/Users/\\u4EA4\\u5B89/gas/vue/gas-web/node_modules/_@babel_runtime-corejs2@7.24.5@@babel/runtime-corejs2/helpers/defineProperty.js\"));\nvar _menu = require(\"@/api/system/menu\");\nvar _menuForm = _interopRequireDefault(require(\"./menuForm\"));\nvar _index = _interopRequireDefault(require(\"./components/buttonAuthorize/index\"));\nvar _index2 = _interopRequireDefault(require(\"./components/columnAuthorize/index\"));\nvar _index3 = _interopRequireDefault(require(\"./components/formAuthorize/index\"));\nvar _index4 = _interopRequireDefault(require(\"./components/dataAuthorize/index\"));\nvar _CheckMenuPermissions = _interopRequireDefault(require(\"@/components/CheckMenuPermissions\"));\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = exports.default = {\n  name: \"system-menu\",\n  components: {\n    menuForm: _menuForm.default,\n    ButtonAuthorizeListDrawer: _index.default,\n    ColumnAuthorizeListDrawer: _index2.default,\n    FormAuthorizeListDrawer: _index3.default,\n    DataAuthorizeListDrawer: _index4.default,\n    CheckPermissions: _CheckMenuPermissions.default\n  },\n  data: function data() {\n    return (0, _defineProperty2.default)((0, _defineProperty2.default)({\n      options: [],\n      listQuery: {\n        enabledMark: '',\n        type: '',\n        keyword: \"\",\n        category: \"Web\"\n      },\n      treeList: [],\n      btnLoading: false,\n      listLoading: true,\n      formVisible: false,\n      buttonAuthorizeListDrawer: false,\n      columnAuthorizeListDrawer: false,\n      formAuthorizeListDrawer: false,\n      dataAuthorizeListDrawer: false,\n      expands: true,\n      refreshTable: true,\n      title: '',\n      systemId: '',\n      formRule: {\n        parentId: [{\n          required: true,\n          message: '上级菜单不能为空',\n          trigger: 'change'\n        }]\n      },\n      treeData: [],\n      dataForm: {\n        parentId: \"\"\n      },\n      menuBtnLoading: false,\n      checkAuthorizeVisible: false,\n      fullName: '',\n      authorize: true,\n      activeMenu: \"1\",\n      list: [],\n      activeKey: \"\",\n      mainSystem: false,\n      authorizeList: [],\n      menuId: '',\n      description: '',\n      loading: false\n    }, \"options\", [{\n      fullName: '启用',\n      id: 1\n    }, {\n      fullName: '禁用',\n      id: 0\n    }]), \"typeOptions\", [{\n      fullName: '目录',\n      id: 1\n    }, {\n      fullName: '页面',\n      id: 2\n    }, {\n      fullName: '功能',\n      id: 3\n    }, {\n      fullName: '字典',\n      id: 4\n    }, {\n      fullName: '报表',\n      id: 5\n    }, {\n      fullName: '大屏',\n      id: 6\n    }, {\n      fullName: '外链',\n      id: 7\n    }, {\n      fullName: '门户',\n      id: 8\n    }]);\n  },\n  watch: {\n    \"listQuery.category\": function listQueryCategory(val) {\n      this.reset();\n    }\n  },\n  methods: {\n    goBack: function goBack(isRefresh) {\n      this.$emit('close', isRefresh);\n    },\n    init: function init(data) {\n      this.title = data.fullName + '的菜单管理';\n      this.mainSystem = data.mainSystem;\n      this.systemId = data.id;\n      this.initData();\n    },\n    reset: function reset() {\n      this.listQuery.keyword = \"\";\n      this.listQuery.type = \"\";\n      this.listQuery.enabledMark = \"\";\n      this.initData();\n    },\n    initData: function initData() {\n      var _this = this;\n      this.listLoading = true;\n      (0, _menu.getMenuList)(this.systemId, this.listQuery).then(function (res) {\n        _this.treeList = res.data.list;\n        _this.listLoading = false;\n        _this.btnLoading = false;\n      }).catch(function () {\n        _this.listLoading = false;\n        _this.btnLoading = false;\n      });\n    },\n    toggleExpand: function toggleExpand() {\n      var _this2 = this;\n      this.refreshTable = false;\n      this.expands = !this.expands;\n      this.$nextTick(function () {\n        _this2.refreshTable = true;\n      });\n    },\n    addOrUpdateHandle: function addOrUpdateHandle(id, parentId) {\n      var _this3 = this;\n      this.formVisible = true;\n      this.$nextTick(function () {\n        _this3.$refs.Form.init(id, _this3.listQuery.category, _this3.systemId, parentId);\n      });\n    },\n    handleUpdateState: function handleUpdateState(row) {\n      var _this4 = this;\n      var txt = row.enabledMark ? \"禁用\" : \"开启\";\n      this.$confirm(\"\\u60A8\\u786E\\u5B9A\\u8981\".concat(txt, \"\\u5F53\\u524D\\u83DC\\u5355\\u5417, \\u662F\\u5426\\u7EE7\\u7EED?\"), \"提示\", {\n        type: \"warning\"\n      }).then(function () {\n        (0, _menu.updateMenuState)(row.id).then(function (res) {\n          _this4.$message({\n            type: \"success\",\n            message: res.msg,\n            duration: 1000,\n            onClose: function onClose() {\n              row.enabledMark = row.enabledMark ? 0 : 1;\n            }\n          });\n        });\n      }).catch(function () {});\n    },\n    handleDel: function handleDel(id) {\n      var _this5 = this;\n      this.$confirm(this.$t(\"common.delTip\"), this.$t(\"common.tipTitle\"), {\n        type: \"warning\"\n      }).then(function () {\n        (0, _menu.delMenu)(id).then(function (res) {\n          _this5.$message({\n            type: \"success\",\n            message: res.msg,\n            duration: 1500,\n            onClose: function onClose() {\n              _this5.initData();\n            }\n          });\n        });\n      }).catch(function () {});\n    },\n    handleButtonAuthorize: function handleButtonAuthorize(row) {\n      var _this6 = this;\n      var moduleId = row.id;\n      var fullName = row.fullName;\n      this.buttonAuthorizeListDrawer = true;\n      this.$nextTick(function () {\n        _this6.$refs.buttonAuthorizeList.init(moduleId, fullName);\n      });\n    },\n    //列表权限\n    handleColumnAuthorize: function handleColumnAuthorize(row) {\n      var _this7 = this;\n      var moduleId = row.id;\n      var fullName = row.fullName;\n      var type = row.type;\n      this.columnAuthorizeListDrawer = true;\n      this.$nextTick(function () {\n        _this7.$refs.ColumnAuthorizeList.init(moduleId, fullName, type, 1);\n      });\n    },\n    //表单权限\n    handleFormAuthorize: function handleFormAuthorize(row) {\n      var _this8 = this;\n      var moduleId = row.id;\n      var fullName = row.fullName;\n      var type = row.type;\n      this.formAuthorizeListDrawer = true;\n      this.$nextTick(function () {\n        _this8.$refs.FormAuthorizeList.init(moduleId, fullName, type, 2);\n      });\n    },\n    //数据权限\n    handleDataAuthorize: function handleDataAuthorize(row) {\n      var _this9 = this;\n      var moduleId = row.id;\n      var fullName = row.fullName;\n      var type = row.type;\n      this.dataAuthorizeListDrawer = true;\n      this.$nextTick(function () {\n        _this9.$refs.DataAuthorizeList.init(moduleId, fullName, type, 3);\n      });\n    },\n    //查看权限\n    checkAuthorize: function checkAuthorize(row) {\n      var _this10 = this;\n      this.checkAuthorizeVisible = true;\n      this.$nextTick(function () {\n        _this10.$refs.checkPermissions.init(row, 1);\n      });\n    },\n    exportMenu: function exportMenu(id) {\n      var _this11 = this;\n      this.$confirm(\"您确定要导出该菜单, 是否继续?\", \"提示\", {\n        type: \"warning\"\n      }).then(function () {\n        (0, _menu.exportMenu)(id).then(function (res) {\n          _this11.jnpf.downloadFile(res.data.url);\n        });\n      }).catch(function () {});\n    },\n    uploadSuccess: function uploadSuccess() {\n      this.selectMenuVisible = false;\n      this.initData();\n    }\n  }\n};",null]}