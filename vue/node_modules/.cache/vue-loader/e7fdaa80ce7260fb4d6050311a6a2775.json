{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/components/Generator/index/RightComponents/RCascader/TreeEditing.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/components/Generator/index/RightComponents/RCascader/TreeEditing.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  components: {},\n  props: {\n  },\n  data() {\n    return {\n      visible: false,\n      resultInfo: '',\n      separator: '|',\n      options: []\n    }\n  },\n  computed: {\n  },\n  methods: {\n    init(options) {\n      this.options = options || []\n      this.analysis()\n      this.visible = true\n    },\n    analysis() {\n      this.resultInfo = ''\n      if (this.options.length > 0) {\n        const loop = (list, id) => {\n          for (let i = 0; i < list.length; i++) {\n            const e = list[i]\n            if (e.id == e.fullName) {\n              this.resultInfo += e.fullName + this.separator + e.id + '\\n'\n            } else {\n              let separator = ''\n              if (id) separator = this.separator + id\n              this.resultInfo += e.fullName + this.separator + e.id + separator + '\\n'\n            }\n            if (e && e.children && Array.isArray(e.children)) {\n              loop(e.children, e.id)\n            }\n          }\n        }\n        loop(this.options)\n      }\n    },\n    handleSure() {\n      this.options = []\n      let lineArray = this.resultInfo.split('\\n')\n      if (lineArray.length > 0) {\n        lineArray.forEach((optLine) => {\n          if (!!optLine && !!optLine.trim()) {\n            if (optLine.indexOf(this.separator) !== -1) {\n              let item = optLine.split(this.separator) || []\n              const getParentId = (list, item) => {\n                let parentId = item[item.length - 1]\n                for (let i = 0; i < list.length; i++) {\n                  const element = list[i];\n                  if (element.children && element.children.length) getParentId(element.children, item)\n                  if (element.id == parentId) {\n                    if (!this.isRepeatId(item[1])) {\n                      element.children = element.children ? element.children : []\n                      element.children.push(\n                        {\n                          fullName: item[0],\n                          id: item[1],\n                        }\n                      )\n                    }\n                  }\n                }\n              }\n              if (item.length < 2) return\n              if (item.length == 2) {\n                if (!this.isRepeatId(item[1])) {\n                  this.options.push({\n                    fullName: item[0],\n                    id: item[1],\n                  })\n                }\n              } else {\n                getParentId(this.options, item)\n              }\n            }\n          }\n        })\n      } else {\n        this.options = []\n      }\n      this.$emit('change', this.options)\n      this.visible = false\n    },\n    isRepeatId(id) {\n      var flag = false\n      const loop = (list) => {\n        for (let i = 0; i < list.length; i++) {\n          const element = list[i];\n          if (element.id == id) {\n            flag = true\n          }\n          if (Array.isArray(element.children)) loop(element.children)\n        }\n      }\n      loop(this.options)\n      return flag\n    }\n  }\n}\n",null]}