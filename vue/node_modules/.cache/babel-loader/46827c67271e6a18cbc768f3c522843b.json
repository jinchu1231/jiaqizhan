{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/views/generator/Preview.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/views/generator/Preview.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/babel.config.js","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/\\u4EA4\\u5B89/gas/vue/gas-web/node_modules/_@babel_runtime@7.24.5@@babel/runtime/helpers/interopRequireDefault.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _visualDev = require(\"@/api/onlineDev/visualDev\");\nvar _monaco = _interopRequireDefault(require(\"@/components/JNPFEditor/monaco\"));\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = exports.default = {\n  components: {\n    JNPFCodeEditor: _monaco.default\n  },\n  data: function data() {\n    return {\n      loading: false,\n      visible: false,\n      dataForm: {\n        module: 'system',\n        description: '',\n        subClassName: '',\n        className: ''\n      },\n      defaultProps: {\n        children: 'children',\n        label: 'fileName'\n      },\n      treeData: [],\n      options: {\n        language: 'java'\n      },\n      currentName: '',\n      currentId: '',\n      currentContent: ''\n    };\n  },\n  methods: {\n    init: function init(tables, id) {\n      var _this = this;\n      if (!tables || !id) {\n        this.closeDialog();\n        return;\n      }\n      var tablesList = JSON.parse(tables);\n      this.visible = true;\n      this.loading = true;\n      this.$nextTick(function () {\n        var subClassName = [];\n        for (var i = 0; i < tablesList.length; i++) {\n          var e = tablesList[i];\n          if (e.typeId == '1') {\n            _this.dataForm.className = e.table;\n            _this.dataForm.description = e.table;\n          } else {\n            subClassName.push(e.table);\n          }\n        }\n        _this.dataForm.subClassName = subClassName.join();\n        (0, _visualDev.CodePreview)(id, _this.dataForm).then(function (res) {\n          _this.treeData = res.data.list;\n          _this.currentName = _this.treeData[0].children[0].fileName;\n          _this.currentId = _this.treeData[0].children[0].currentId;\n          _this.currentContent = _this.treeData[0].children[0].fileContent;\n          _this.$nextTick(function () {\n            _this.$refs.treeBox.setCurrentKey(_this.currentName);\n            _this.$refs.CodeEditor.changeEditor({\n              value: _this.currentContent,\n              options: _this.options\n            });\n          });\n          _this.loading = false;\n        }).catch(function () {\n          _this.closeDialog();\n          _this.loading = false;\n        });\n      });\n    },\n    closeDialog: function closeDialog() {\n      this.visible = false;\n      this.$emit('close');\n    },\n    handleNodeClick: function handleNodeClick(data) {\n      if (this.currentName == data.fileName && this.currentId == data.id) return;\n      this.options.language = data.fileType === 'vue' ? 'html' : 'java';\n      this.currentName = data.fileName;\n      this.currentId = data.id;\n      this.currentContent = data.fileContent;\n      this.$refs.CodeEditor.changeEditor({\n        value: this.currentContent,\n        options: this.options\n      });\n    }\n  }\n};",null]}