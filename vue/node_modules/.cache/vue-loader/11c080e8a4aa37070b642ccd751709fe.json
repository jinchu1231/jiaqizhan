{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/components/integrationProcess/PropPanel/StartNode.vue?vue&type=template&id=6d485c12&scoped=true","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/components/integrationProcess/PropPanel/StartNode.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<section class=\"approver-pane\">\n  <el-tabs v-model=\"activeKey\" class=\"pane-tabs\">\n    <el-tab-pane name=\"1\"\n      :label=\"integrateType == 1 ? '表单配置' : integrateType == 2 ? '触发配置' : 'webhook配置'\"></el-tab-pane>\n    <el-tab-pane name=\"2\" label=\"通知配置\"></el-tab-pane>\n  </el-tabs>\n  <el-scrollbar class=\"config-scrollbar\">\n    <el-form label-position=\"top\" :model=\"formConf\" class=\"pd-10-20\" v-show=\"activeKey === '1'\">\n      <template v-if=\"integrateType == 1\">\n        <el-form-item>\n          <div slot=\"label\" class=\"form-item-label\">触发表单</div>\n          <FlowFormModal v-model=\"formId\" :title=\"formConf.formName\" :enableFlow=\"0\"\n            :clearable='false' @change=\"onFormIdChange\" placeholder=\"请选择表单\" />\n        </el-form-item>\n        <el-form-item>\n          <div slot=\"label\" class=\"form-item-label\">触发事件</div>\n          <el-radio-group v-model=\"formConf.triggerEvent\">\n            <el-radio v-for=\"item in triggerEventOptions\" :key=\"item.id\"\n              :label=\"item.id\">{{item.fullName}}</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item>\n          <div slot=\"label\" class=\"form-item-label\">触发条件\n            <el-tooltip content=\"满足以下条件，触发执行动作。\" placement=\"top\">\n              <i class=\"el-icon-question tooltip-question\"></i>\n            </el-tooltip>\n          </div>\n          <Condition :value=\"formConf.ruleList\" ref=\"base\" :matchLogic=\"formConf.ruleMatchLogic\"\n            :columnOptions=\"formFieldList\" :type='1'>\n          </Condition>\n        </el-form-item>\n      </template>\n      <template v-if=\"integrateType == 2\">\n        <el-form-item>\n          <div slot=\"label\" class=\"form-item-label\">触发开始时间</div>\n          <el-date-picker v-model=\"formConf.startTime\" type=\"datetime\" style=\"width:100%\"\n            value-format=\"timestamp\" format=\"yyyy-MM-dd HH:mm:ss\" placeholder=\"请选择触发开始时间\" />\n        </el-form-item>\n        <el-form-item label=\"触发规则\">\n          <el-form-item>\n            <div class=\"ant-form-item-label\"><label class=\"ant-form-item-no-colon\">Cron表达式</label>\n            </div>\n            <el-input v-model=\"formConf.cron\" placeholder=\"Cron表达式\" readonly>\n              <el-button slot=\"append\" icon=\"el-icon-edit-outline\" @click=\"showDialog\">\n              </el-button>\n            </el-input>\n          </el-form-item>\n        </el-form-item>\n        <el-form-item label=\"触发结束时间\">\n          <div slot=\"label\" class=\"form-item-label\">触发结束时间</div>\n          <el-select v-model=\"formConf.endTimeType\" style=\"width:100%\">\n            <el-option v-for=\"item in endTimeTypeOptions\" :key=\"item.id\" :label=\"item.fullName\"\n              :value=\"item.id\">\n            </el-option>\n          </el-select>\n          <el-input-number v-model=\"formConf.endLimit\" placeholder=\"次数\" :min=\"1\" :precision=\"0\"\n            addonAfter=\"次后结束\" class=\"mt-10px\" @change=\"oneEndLimitChange\"\n            v-if=\"formConf.endTimeType === 1\" />\n          <el-date-picker v-model=\"formConf.endTime\" type=\"datetime\" style=\"width:100%\"\n            placeholder=\"请触发结束时间\" class=\"mt-10px\" format=\"yyyy-MM-dd HH:mm:ss\"\n            value-format='timestamp' v-else-if=\"formConf.endTimeType === 2\" />\n        </el-form-item>\n      </template>\n      <template v-if=\"integrateType == 3\">\n        <el-form-item label=\"webhook URL\">\n          <p slot=\"label\" class=\"form-item-label color\">webhook URL</p>\n          <p class=\"form-item-color mb-10px\">系统生成的URL，用来接收请求字段！</p>\n          <el-input v-model=\"getWebhookUrl\" readonly>\n            <template slot=\"append\">\n              <span class=\"cursor-pointer\" @click=\"handleCopy($event)\">复制链接</span>\n            </template>\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"添加接口字段\">\n          <div class=\"mb-10px\">\n            <span class=\"link-text mr-20px inline-block\" @click=\"addItem\"><i\n                class=\"icon-ym icon-ym-btn-add text-14px mr-4px\"></i>自定义添加</span>\n            <span class=\"link-text mr-20px inline-block\" @click=\"openBatch\">\n              <i class=\"icon-ym icon-ym-btn-add text-14px mr-4px\"></i>从JSON格式添加\n            </span>\n            <span class=\"link-text mr-20px inline-block\" @click=\"openWebhookRequest\">\n              <i class=\"icon-ym icon-ym-btn-add text-14px mr-4px\"></i>从请求接口添加\n            </span>\n          </div>\n          <div class=\"mb-10px\">\n            <el-row :gutter=\"8\" v-for=\"(item, index) in formConf.formFieldList\" :key=\"index\"\n              class=\"mt-10px\">\n              <el-col :span=\"10\">\n                <el-input v-model=\"item.id\" placeholder=\"字段\" @change=\"onItemChange(item)\" />\n              </el-col>\n              <el-col :span=\"13\">\n                <el-input v-model=\"item.fullName\" placeholder=\"字段说明\"\n                  @change=\"onItemChange(item)\" />\n              </el-col>\n              <el-col :span=\"1\" class=\"text-center\">\n                <i class=\"icon-ym icon-ym-btn-clearn clearn\" @click=\"delItem(index)\" />\n              </el-col>\n            </el-row>\n          </div>\n        </el-form-item>\n      </template>\n    </el-form>\n    <div v-show=\"activeKey === '2'\">\n      <el-form label-position=\"top\" :model=\"formConf\" class=\"pd-10-20\">\n        <el-form-item>\n          <div slot=\"label\" class=\"form-item-label\">通知人</div>\n          <JnpfSelect v-model=\"formConf.msgUserType\" :options=\"msgUserOptions\" :props=\"props\"\n            placeholder=\"请选择\" multiple style=\"width:100%\" />\n        </el-form-item>\n        <el-form-item v-if=\"formConf.msgUserType.includes(3)\">\n          <div class=\"ant-form-item-label\">\n            <label class=\"ant-form-item-no-colon\">选择用户</label>\n          </div>\n          <JnpfUsersSelect v-model=\"formConf.msgUserIds\" placeholder=\"请选择通知人\" multiple />\n        </el-form-item>\n        <el-form-item label=\"执行失败\">\n          <div slot=\"label\" class=\"form-item-label\">执行失败\n            <el-tooltip content=\"执行失败时发送通知！\" placement=\"top\">\n              <i class=\"el-icon-question tooltip-question\"></i>\n            </el-tooltip>\n          </div>\n          <el-select v-model=\"formConf.failMsgConfig.on\" placeholder=\"请选择\" filterable\n            style=\"width:100%\">\n            <el-option v-for=\"item in noticeOptions\" :key=\"item.id\" :label=\"item.fullName\"\n              :value=\"item.id\" />\n          </el-select>\n        </el-form-item>\n        <div v-if=\"formConf.failMsgConfig.on===1\">\n          <el-form-item label=\"发送配置\">\n            <msg-dialog :value=\"formConf.failMsgConfig.msgId\"\n              :title=\"formConf.failMsgConfig.msgName\" :messageSource='3'\n              @change=\"onMsgChange('formConf','failMsgConfig',arguments)\" />\n          </el-form-item>\n          <template v-if=\"integrateType==1\">\n            <div class=\"form-sub-title\">参数设置</div>\n            <el-table :data=\"formConf.failMsgConfig.templateJson\">\n              <el-table-column type=\"index\" width=\"50\" label=\"序号\" align=\"center\" />\n              <el-table-column prop=\"field\" label=\"模板名称\" width=\"150\">\n                <template slot-scope=\"scope\">\n                  <el-link @click='goDetail(scope.row.templateId)'>{{scope.row.msgTemplateName}}\n                  </el-link>\n                </template>\n              </el-table-column>\n              <el-table-column prop=\"field\" label=\"参数名称\" width=\"150\">\n                <template slot-scope=\"scope\">\n                  <div class=\"parameter-box\" v-for=\"(item,index) in scope.row.paramJson\"\n                    :key=\"index\">\n                    {{item.field}}({{item.fieldName}})\n                  </div>\n                </template>\n              </el-table-column>\n              <el-table-column prop=\"value\" label=\"表单字段\">\n                <template slot-scope=\"scope\">\n                  <el-select class=\"variable-box\" v-model=\"it.relationField\" placeholder=\"请选择表单字段\"\n                    clearable filterable @change=\"onRelationFieldChange($event,it)\"\n                    v-for=\"(it,index) in scope.row.paramJson\" :key=\"index\">\n                    <el-option-group>\n                      <el-option v-for=\"item in formFieldsOptions\" :key=\"item.__vModel__\"\n                        :label=\"item.__config__.label?item.__vModel__+'('+item.__config__.label+')':item.__vModel__\"\n                        :value=\"item.__vModel__\" />\n                    </el-option-group>\n                  </el-select>\n                </template>\n              </el-table-column>\n            </el-table>\n          </template>\n        </div>\n        <el-form-item label=\"开始执行\">\n          <div slot=\"label\" class=\"form-item-label\">开始执行\n            <el-tooltip content=\"开始执行时发送通知！\" placement=\"top\">\n              <i class=\"el-icon-question tooltip-question\"></i>\n            </el-tooltip>\n          </div>\n          <el-select v-model=\"formConf.startMsgConfig.on\" placeholder=\"请选择\" filterable\n            style=\"width:100%\">\n            <el-option v-for=\"item in noticeOptions\" :key=\"item.id\" :label=\"item.fullName\"\n              :value=\"item.id\" />\n          </el-select>\n        </el-form-item>\n        <div v-if=\"formConf.startMsgConfig.on===1\">\n          <el-form-item label=\"发送配置\">\n            <msg-dialog :value=\"formConf.startMsgConfig.msgId\"\n              :title=\"formConf.startMsgConfig.msgName\" :messageSource='3'\n              @change=\"onMsgChange('formConf','startMsgConfig',arguments)\" />\n          </el-form-item>\n          <template v-if=\"integrateType==1\">\n            <div class=\"form-sub-title\">参数设置</div>\n            <el-table :data=\"formConf.startMsgConfig.templateJson\">\n              <el-table-column type=\"index\" width=\"50\" label=\"序号\" align=\"center\" />\n              <el-table-column prop=\"field\" label=\"模板名称\" width=\"150\">\n                <template slot-scope=\"scope\">\n                  <el-link @click='goDetail(scope.row.templateId)'>{{scope.row.msgTemplateName}}\n                  </el-link>\n                </template>\n              </el-table-column>\n              <el-table-column prop=\"field\" label=\"参数名称\" width=\"150\">\n                <template slot-scope=\"scope\">\n                  <div class=\"parameter-box\" v-for=\"(item,index) in scope.row.paramJson\"\n                    :key=\"index\">\n                    {{item.field}}({{item.fieldName}})\n                  </div>\n                </template>\n              </el-table-column>\n              <el-table-column prop=\"value\" label=\"数据值\">\n                <template slot-scope=\"scope\">\n                  <el-select class=\"variable-box\" v-model=\"it.relationField\" placeholder=\"请配置字段\"\n                    clearable filterable @change=\"onRelationFieldChange($event,it)\"\n                    v-for=\"(it,index) in scope.row.paramJson\" :key=\"index\">\n                    <el-option-group>\n                      <el-option v-for=\"item in formFieldsOptions\" :key=\"item.__vModel__\"\n                        :label=\"item.__config__.label?item.__vModel__+'('+item.__config__.label+')':item.__vModel__\"\n                        :value=\"item.__vModel__\" />\n                    </el-option-group>\n                  </el-select>\n                </template>\n              </el-table-column>\n            </el-table>\n          </template>\n        </div>\n      </el-form>\n    </div>\n  </el-scrollbar>\n  <Detail v-if=\"viewVisible\" ref=\"View\" @close=\"viewVisible = false\" />\n  <BatchDialog v-if=\"jsonVisible\" ref=\"jsonBatch\" @confirm=\"addItemForOther\" />\n  <WebhookRequestDialog v-if=\"webhookRequestVisible\" ref=\"webhookRequest\"\n    @confirm=\"addItemForOther\" />\n  <el-dialog title=\"Cron表达式\" :visible.sync=\"showCron\" :close-on-click-modal=\"false\"\n    class=\"JNPF-dialog JNPF-dialog_center\" lock-scroll append-to-body width=\"700px\"\n    @closed=\"showCrontab = false\">\n    <vcrontab ref=\"vcrontab\" @hide=\"showCron=false\" @fill=\"crontabFill\"\n      :expression=\"formConf.cron\" v-if=\"showCrontab\" />\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"showCron=false\">{{$t('common.cancelButton')}}\n      </el-button>\n      <el-button type=\"warning\" @click=\"resetCrontab\">重 置</el-button>\n      <el-button type=\"primary\" @click=\"getCrontabValue\">{{$t('common.confirmButton')}}\n      </el-button>\n    </span>\n  </el-dialog>\n</section>\n",null]}