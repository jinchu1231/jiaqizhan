{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/views/workFlow/components/Comment.vue?vue&type=template&id=1f796568&scoped=true","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/views/workFlow/components/Comment.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"comment-container\">\n  <div class=\"comment-list\" v-loading=\"listLoading && listQuery.currentPage==1\"\n    ref=\"infiniteBody\">\n    <template v-if=\"list.length\">\n      <div v-for=\"(item,i) in list\" :key=\"i\" class=\"item\">\n        <div class=\"head\">\n          <el-avatar :size=\"40\" :src=\"define.comUrl + item.creatorUserHeadIcon\" class=\"avatar\" />\n          <p class=\"username\">{{item.creatorUser}}</p>\n          <el-link :underline=\"false\" class=\"del-btn\" @click=\"delComment(item.id,i)\" type=\"danger\"\n            v-if=\"item.isDel\">删除</el-link>\n          <span class=\"time\">{{item.creatorTime|toDate()}}</span>\n        </div>\n        <div class=\"content\">\n          <p class=\"text\">{{item.text}}</p>\n          <div class=\"img-list\" v-if=\"item.imageList.length\">\n            <el-image :src=\"define.comUrl+cItem.url\" class=\"img-item\"\n              v-for=\"(cItem,ci) in item.imageList\" :key=\"ci\"\n              :preview-src-list=\"getImgList(item.imageList)\" :z-index=\"10000\">\n            </el-image>\n          </div>\n          <div class=\"file-List\" v-if=\"item.fileList.length\">\n            <JnpfUploadFile v-model=\"item.fileList\" detailed disabled></JnpfUploadFile>\n          </div>\n        </div>\n      </div>\n    </template>\n    <el-empty description=\"暂无数据\" :image-size=\"120\" v-else></el-empty>\n  </div>\n  <el-dialog title=\"流程评论\" :visible.sync=\"dialogVisible\" :close-on-click-modal=\"false\"\n    class=\"JNPF-dialog JNPF-dialog_center\" lock-scroll append-to-body width=\"600px\">\n    <el-form :model=\"dataForm\" :rules=\"dataRule\" ref=\"dataForm\" label-width=\"0\">\n      <el-form-item prop=\"text\">\n        <el-input v-model=\"dataForm.text\" placeholder=\"请输入评论\" type=\"textarea\" :rows=\"4\" />\n      </el-form-item>\n      <el-form-item>\n        <el-upload :action=\"define.comUploadUrl+'/annexpic'\" :headers=\"uploadHeaders\"\n          ref=\"elUploadImg\" :on-success=\"handleImgSuccess\" multiple :show-file-list=\"false\"\n          accept=\"image/*\" :before-upload=\"beforeImgUpload\" :on-exceed=\"handleImgExceed\"\n          :limit=\"9\" class=\"upload-btn\">\n          <el-button size=\"small\" icon=\"el-icon-picture\">图片</el-button>\n        </el-upload>\n        <el-button size=\"small\" icon=\"el-icon-upload\" @click=\"uploadFile\">附件</el-button>\n      </el-form-item>\n      <el-form-item prop=\"image\" v-if=\"dataForm.image.length\">\n        <div class=\"img-list\">\n          <div class=\"img-item\" v-for=\"(item,i) in dataForm.image\" :key=\"i\">\n            <el-image :src=\"define.comUrl+item.url\" class=\"\"\n              :preview-src-list=\"getImgList(dataForm.image)\" :z-index=\"100\">\n            </el-image>\n            <div class=\"badge\" @click.stop=\"handleImgRemove(i)\">\n              <i class=\"el-icon-close\"></i>\n            </div>\n          </div>\n        </div>\n      </el-form-item>\n      <el-form-item prop=\"file\">\n        <ul class=\"el-upload-list el-upload-list el-upload-list--text\">\n          <li class=\"el-upload-list__item is-success\" v-for=\"(file,index) in dataForm.file\"\n            :key=\"file.fileId\">\n            <a class=\"el-upload-list__item-name\">\n              <i class=\"el-icon-paperclip\"></i>\n              {{file.name}}{{file.fileSize?`（${jnpf.toFileSize(file.fileSize)}）`:''}}\n            </a>\n            <i class=\"el-icon-view\" title=\"查看\" @click=\"handleFilePreview(file)\"></i>\n            <i class=\"el-icon-download\" title=\"下载\" @click=\"handleFileClick(file)\"></i>\n            <label class=\"el-upload-list__item-status-label\">\n              <i class=\"el-icon-upload-success el-icon-circle-check\"></i>\n            </label>\n            <i class=\"el-icon-close\" title=\"删除\" @click=\"handleFileRemove(index)\"></i>\n          </li>\n        </ul>\n        <fileUploader ref=\"fileUploader\" :limit=\"2\" :fileSize=\"50\" type=\"annex\"\n          :accept=\"fileAccept\" @fileSuccess=\"fileSuccess\" />\n      </el-form-item>\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"dialogVisible=false\">{{$t('common.cancelButton')}}\n      </el-button>\n      <el-button type=\"primary\" @click=\"addComment()\" :loading=\"btnLoading\">\n        {{$t('common.confirmButton')}}</el-button>\n    </span>\n  </el-dialog>\n  <Preview :visible.sync=\"previewVisible\" :file=\"activeFile\" />\n</div>\n",null]}