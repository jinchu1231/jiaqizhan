{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/components/Generator/index/JsonDrawer.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/components/Generator/index/JsonDrawer.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ClipboardJS from 'clipboard'\nimport { saveAs } from 'file-saver'\nimport JSONEditor from '@/components/JsonEditor'\n\nexport default {\n  components: { JSONEditor },\n  props: {\n    jsonData: {\n      type: Object,\n      default: () => { }\n    }\n  },\n  data() {\n    return {\n      template: '',\n      clipboard: null\n    }\n  },\n  methods: {\n    onOpen() {\n      this.clipboard = new ClipboardJS('.copy-json-btn', {\n        text: trigger => {\n          this.$notify({\n            title: '复制成功',\n            message: '代码已复制到剪切板，可粘贴。',\n            type: 'success'\n          })\n          return this.template\n        }\n      })\n      this.clipboard.on('error', e => {\n        this.$message.error('代码复制失败')\n      })\n      this.template = JSON.stringify(this.jsonData, null, 2)\n    },\n    onClose() {\n      this.clipboard && this.clipboard.destroy()\n    },\n    exportJsonFile() {\n      this.$prompt('文件名:', '导出文件', {\n        inputValue: `${+new Date()}.json`,\n        closeOnClickModal: false,\n        inputPlaceholder: '请输入文件名'\n      }).then(({ value }) => {\n        if (!value) value = `${+new Date()}.json`\n        const blob = new Blob([this.template], { type: 'text/plain;charset=utf-8' })\n        saveAs(blob, value)\n      })\n    },\n    refresh() {\n      try {\n        this.$emit('refresh', this.template)\n      } catch (error) {\n        this.$notify({\n          title: '错误',\n          message: 'JSON格式错误，请检查',\n          type: 'error'\n        })\n      }\n    }\n  }\n}\n",null]}