{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/views/workFlow/workFlowForm/leaveApply/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/views/workFlow/workFlowForm/leaveApply/index.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/babel.config.js","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/\\u4EA4\\u5B89/gas/vue/gas-web/node_modules/_@babel_runtime@7.24.5@@babel/runtime/helpers/interopRequireDefault.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es6.function.name\");\nvar _mixin = _interopRequireDefault(require(\"../mixin\"));\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar _default = exports.default = {\n  mixins: [_mixin.default],\n  name: 'LeaveApply',\n  data: function data() {\n    var _this = this;\n    var checkStartTime = function checkStartTime(rule, value, callback) {\n      if (!_this.dataForm.leaveEndTime) {\n        callback();\n      } else {\n        if (_this.dataForm.leaveEndTime < value) {\n          callback(new Error('起始日期应该小于结束日期'));\n        } else {\n          _this.$refs.dataForm.validateField('endTime');\n          callback();\n        }\n      }\n    };\n    var checkEndTime = function checkEndTime(rule, value, callback) {\n      if (!_this.dataForm.leaveStartTime) {\n        callback();\n      } else {\n        if (_this.dataForm.leaveStartTime > value) {\n          callback(new Error('结束日期应该大于起始日期'));\n        } else {\n          callback();\n        }\n      }\n    };\n    return {\n      billEnCode: 'WF_LeaveApplyNo',\n      dataForm: {\n        flowId: '',\n        id: '',\n        billNo: '',\n        flowTitle: '',\n        flowUrgent: 1,\n        applyUser: '',\n        applyDate: '',\n        applyDept: '',\n        applyPost: '',\n        leaveType: '事假',\n        leaveReason: '',\n        leaveStartTime: '',\n        leaveEndTime: '',\n        leaveDayCount: '',\n        leaveHour: '',\n        fileJson: ''\n      },\n      dataRule: {\n        flowTitle: [{\n          required: true,\n          message: '流程标题不能为空',\n          trigger: 'blur'\n        }],\n        leaveType: [{\n          required: true,\n          message: '请假类别不能为空',\n          trigger: 'change'\n        }],\n        leaveReason: [{\n          required: true,\n          message: '请假原因不能为空',\n          trigger: 'blur'\n        }],\n        leaveStartTime: [{\n          required: true,\n          message: '起始时间不能为空',\n          trigger: 'change'\n        }, {\n          validator: checkStartTime,\n          trigger: 'change'\n        }],\n        leaveEndTime: [{\n          required: true,\n          message: '结束时间不能为空',\n          trigger: 'change'\n        }, {\n          validator: checkEndTime,\n          trigger: 'change'\n        }],\n        leaveDayCount: [{\n          required: true,\n          message: '请假天数不能为空',\n          trigger: 'blur'\n        }, {\n          validator: this.formValidate('allDate', '请假时间必须是整数和0.5的倍数'),\n          trigger: 'blur'\n        }],\n        leaveHour: [{\n          required: true,\n          message: '请假小时不能为空',\n          trigger: 'blur'\n        }, {\n          validator: this.formValidate('allDate', '请假小时必须是整数和0.5的倍数'),\n          trigger: 'blur'\n        }]\n      },\n      leaveTypeOptions: ['事假', '病假', '婚假', '产假', '丧假', '年假', '调休', '其他']\n    };\n  },\n  methods: {\n    selfInit: function selfInit(data) {\n      this.dataForm.applyDate = new Date().getTime();\n      this.dataForm.flowTitle = this.userInfo.userName + \"的请假申请\";\n      this.dataForm.applyUser = this.userInfo.userName + '/' + this.userInfo.userAccount;\n      this.dataForm.applyDept = this.userInfo.organizeName;\n      if (this.userInfo.positionIds && this.userInfo.positionIds.length) {\n        var list = this.userInfo.positionIds.map(function (o) {\n          return o.name;\n        });\n        this.dataForm.applyPost = list.join(',');\n      }\n    }\n  }\n};",null]}