{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/components/JNPF-userBox/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/components/JNPF-userBox/index.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { getImUserSelector } from '@/api/permission/user'\nexport default {\n  name: 'UserBox',\n  props: {\n    title: {\n      type: String,\n      default: '审批人'\n    }\n  },\n  data() {\n    return {\n      visible: false,\n      id: '',\n      nodeId: '0',\n      props: {\n        children: 'children',\n        label: 'fullName',\n        value: 'id',\n        isLeaf: 'isLeaf'\n      },\n      treeData: [],\n      loading: false,\n      keyword: ''\n    }\n  },\n  methods: {\n    init() {\n      this.visible = true\n      this.keyword = ''\n      this.nodeId = '0'\n      this.getList()\n    },\n    getList() {\n      this.loading = true\n      if (this.keyword) this.nodeId = '0'\n      getImUserSelector(this.nodeId, { keyword: this.keyword }).then(res => {\n        this.treeData = res.data.list\n        this.loading = false\n      })\n    },\n    loadNode(node, resolve) {\n      if (node.level === 0) {\n        this.nodeId = '0'\n        return resolve(this.treeData)\n      }\n      this.nodeId = node.data.id\n      getImUserSelector(this.nodeId).then(res => {\n        resolve(res.data.list)\n      })\n    },\n    handleNodeClick(data) {\n      if (data.type !== 'user') return\n      this.id = data.id\n    },\n    dataFormSubmit() {\n      if (!this.id) {\n        this.$message({\n          message: `请选择${this.title}`,\n          type: 'error',\n          duration: 1000,\n        })\n        return\n      }\n      this.visible = false\n      this.$emit('submit', this.id)\n    },\n  }\n}\n",null]}