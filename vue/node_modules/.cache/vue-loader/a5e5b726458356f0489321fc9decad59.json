{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/components/ColumnDesign/CustomBtn.vue?vue&type=template&id=5f36f3a0&scoped=true","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/components/ColumnDesign/CustomBtn.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<el-dialog :close-on-click-modal=\"false\" class=\"JNPF-dialog JNPF-dialog_center form-script-dialog\"\n  lock-scroll append-to-body v-bind=\"$attrs\" width=\"800px\" :modal-append-to-body=\"false\"\n  v-on=\"$listeners\" destroy-on-close :visible.sync=\"visible\">\n  <span slot=\"title\" class=\"dialog-title\">\n    <span>按钮事件配置\n      <el-tooltip content=\"小程序不支持在线JS脚本\" placement=\"top-start\">\n        <a class=\"el-icon-question tooltip-question\"></a>\n      </el-tooltip>\n    </span>\n  </span>\n  <el-form class=\"form-script-dialog-body\" ref=\"dataForm\" :model=\"dataForm\" :rules=\"dataRule\"\n    label-width=\"90px\" label-position=\"left\" :hide-required-asterisk=\"true\">\n    <el-form-item label=\"类型选择\" prop=\"btnType\">\n      <el-radio-group v-model=\"dataForm.btnType\" @change=\"onBtnTypeChange\">\n        <el-radio :label=\"1\">弹窗配置</el-radio>\n        <el-radio :label=\"2\">JS脚本</el-radio>\n        <el-radio :label=\"3\">接口配置</el-radio>\n      </el-radio-group>\n    </el-form-item>\n    <template v-if=\"dataForm.btnType==1\">\n      <el-form-item label=\"选择表单\" prop=\"modelId\">\n        <JnpfTreeSelect :options=\"treeData\" v-model=\"dataForm.modelId\" placeholder=\"请选择表单\"\n          lastLevel clearable @change=\"onModeIdChange\" />\n      </el-form-item>\n      <el-form-item label=\"弹窗标题\" prop=\"popupTitle\">\n        <el-input v-model=\"dataForm.popupTitle\" placeholder=\"请输入弹窗标题\" clearable />\n      </el-form-item>\n      <el-form-item label=\"弹窗类型\" v-show=\"showType==='pc'\">\n        <el-select v-model=\"dataForm.popupType\" placeholder=\"请选择弹窗类型\">\n          <el-option label=\"居中弹窗\" value=\"dialog\"></el-option>\n          <el-option label=\"右侧弹窗\" value=\"drawer\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"弹窗宽度\" v-show=\"showType==='pc'\">\n        <el-select v-model=\"dataForm.popupWidth\" placeholder=\"请选择弹窗宽度\" filterable>\n          <el-option v-for=\"item in popupWidthOptions\" :label=\"item\" :value=\"item\" :key=\"item\" />\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"赋值规则\" style=\"margin-bottom: 0;\"></el-form-item>\n      <el-table :data=\"dataForm.formOptions\">\n        <el-table-column type=\"index\" width=\"50\" label=\"序号\" align=\"center\" />\n        <el-table-column prop=\"field\" label=\"当前表单值\">\n          <template slot-scope=\"scope\">\n            <el-select v-model=\"scope.row.currentField\" placeholder=\"请选择\" filterable>\n              <el-option v-for=\"item in formFieldsOptions\" :key=\"item.id\" :label=\"item.fullName\"\n                :value=\"item.id\">\n              </el-option>\n            </el-select>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"field\" label=\"赋值给\" width=\"80\" align=\"center\">\n          <template>赋值给</template>\n        </el-table-column>\n        <el-table-column prop=\"value\" label=\"弹窗表单值\">\n          <template slot-scope=\"scope\">\n            <el-select v-model=\"scope.row.field\" placeholder=\"请选择\" filterable\n              @visible-change=\"visibleChange\">\n              <el-option v-for=\"item in fieldOptions\" :key=\"item.vmodel\" :label=\"item.label\"\n                :value=\"item.vmodel\">\n              </el-option>\n            </el-select>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"50\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"mini\" type=\"text\" class=\"JNPF-table-delBtn\"\n              @click=\"handleDel(scope.$index)\">删除\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"table-actions\" @click=\"addRelationOption\" style=\"margin-bottom: 18px;\">\n        <el-button type=\"text\" icon=\"el-icon-plus\">新增</el-button>\n      </div>\n      <el-form-item label=\"自定义按钮事件\" label-width=\"110px\">\n        <el-switch v-model=\"dataForm.customBtn\"></el-switch><span\n          class=\"tips\">（开启后，弹窗中按钮事件失效，调用接口事件。）</span>\n      </el-form-item>\n      <template v-if=\"dataForm.customBtn\">\n        <el-form-item label=\"数据接口\" prop=\"interfaceId\">\n          <interface-dialog :value=\"dataForm.interfaceId\" :title=\"dataForm.interfaceName\"\n            @change=\"onInterfaceChange\" dataType=\"1,3\" />\n        </el-form-item>\n        <el-form-item label=\"参数设置\" style=\"margin-bottom: 0;\"></el-form-item>\n        <el-table :data=\"dataForm.templateJson\" style=\"margin-bottom: 18px;\">\n          <el-table-column type=\"index\" width=\"50\" label=\"序号\" align=\"center\" />\n          <el-table-column prop=\"field\" label=\"参数名称\" width=\"200\">\n            <template slot-scope=\"scope\">\n              <span class=\"required-sign\">{{scope.row.required?'*':''}}</span>\n              {{scope.row.fieldName?scope.row.field+'('+scope.row.fieldName+')':scope.row.field}}\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"value\" label=\"参数来源\" width=\"150\">\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.sourceType\" placeholder=\"请选择参数来源\"\n                @change=\"scope.row.relationField = ''\">\n                <el-option v-for=\"item in parameterSource\" :key=\"item.value\" :label=\"item.label\"\n                  :value=\"item.value\">\n                </el-option>\n              </el-select>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"value\" label=\"参数值\">\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.relationField\" placeholder=\"请选择弹窗表单字段\" clearable\n                filterable @visible-change=\"visibleChange\" v-if=\"scope.row.sourceType ==1\">\n                <el-option v-for=\"item in fieldOptions\" :key=\"item.vmodel\" :label=\"item.label\"\n                  :value=\"item.vmodel\">\n                </el-option>\n              </el-select>\n              <template v-else>\n                <JnpfInputNumber v-if=\"['int', 'decimal'].includes(scope.row.dataType)\"\n                  v-model=\"scope.row.relationField\" placeholder=\"请输入参数值\"\n                  :disabled=\"scope.row.sourceType == 3\" clearable controls\n                  controlsPosition='right' class=\"input-number\" />\n                <JnpfDatePicker v-else-if=\"scope.row.dataType == 'datetime'\" style=\"width:100%\"\n                  v-model=\"scope.row.relationField\" placeholder=\"请选择参数值\"\n                  format=\"yyyy-MM-dd HH:mm:ss\" :disabled=\"scope.row.sourceType == 3\" clearable />\n                <el-input v-model=\"scope.row.relationField\" placeholder=\"请输入参数值\"\n                  :disabled=\"scope.row.sourceType == 3\" clearable v-else />\n              </template>\n            </template>\n          </el-table-column>\n        </el-table>\n      </template>\n    </template>\n    <template v-else-if=\"dataForm.btnType==2\">\n      <div class=\"right-main\">\n        <div class=\"codeEditor\">\n          <JNPFCodeEditor v-model=\"dataForm.func\" :options=\"options\" ref=\"CodeEditor\" />\n        </div>\n        <div class=\"tips\">\n          <p>支持JavaScript的脚本，\n            <ScriptDemo type=\"btnEvent\" />\n          </p>\n        </div>\n      </div>\n    </template>\n    <template v-else>\n      <el-form-item label=\"数据接口\" prop=\"interfaceId\">\n        <interface-dialog :value=\"dataForm.interfaceId\" :title=\"dataForm.interfaceName\"\n          @change=\"onInterfaceChange\" dataType=\"1,3\" />\n      </el-form-item>\n      <el-form-item label=\"参数设置\" style=\"margin-bottom: 0;\"></el-form-item>\n      <el-table :data=\"dataForm.templateJson\" style=\"margin-bottom: 18px;\">\n        <el-table-column type=\"index\" width=\"50\" label=\"序号\" align=\"center\" />\n        <el-table-column prop=\"field\" label=\"参数名称\" width=\"200\">\n          <template slot-scope=\"scope\">\n            <span class=\"required-sign\">{{scope.row.required?'*':''}}</span>\n            {{scope.row.fieldName?scope.row.field+'('+scope.row.fieldName+')':scope.row.field}}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"value\" label=\"参数来源\" width=\"150\">\n          <template slot-scope=\"scope\">\n            <el-select v-model=\"scope.row.sourceType\" placeholder=\"请选择参数来源\"\n              @change=\"scope.row.relationField = ''\">\n              <el-option v-for=\"item in parameterSource\" :key=\"item.value\" :label=\"item.label\"\n                :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"value\" label=\"参数值\">\n          <template slot-scope=\"scope\">\n            <el-select v-model=\"scope.row.relationField\" @visible-change=\"visibleChange\"\n              placeholder=\"请选择当前表单字段\" clearable filterable v-if=\"scope.row.sourceType ==1\">\n              <el-option v-for=\"item in formFieldsOptions\" :key=\"item.id\" :label=\"item.fullName\"\n                :value=\"item.id\">\n              </el-option>\n            </el-select>\n            <template v-else>\n              <JnpfInputNumber v-model=\"scope.row.relationField\"\n                v-if=\"['int', 'decimal'].includes(scope.row.dataType)\" placeholder=\"请输入参数值\"\n                :disabled=\"scope.row.sourceType ==  3\" clearable controls controlsPosition='right'\n                class=\"input-number\" />\n              <JnpfDatePicker v-else-if=\"scope.row.dataType == 'datetime'\" style=\"width:100%\"\n                v-model=\"scope.row.relationField\" placeholder=\"请选择参数值\"\n                format=\"yyyy-MM-dd HH:mm:ss\" :disabled=\"scope.row.sourceType == 3\" clearable />\n              <el-input v-model=\"scope.row.relationField\" placeholder=\"请输入参数值\"\n                :disabled=\"scope.row.sourceType == 3\" clearable v-else />\n            </template>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-form-item label=\"启用确认框\">\n        <el-switch v-model=\"dataForm.useConfirm\"></el-switch>\n      </el-form-item>\n      <el-form-item label-width=\"0\" prop=\"confirmTitle\" v-if=\"dataForm.useConfirm\">\n        <el-input v-model=\"dataForm.confirmTitle\" placeholder=\"请输入确认框提示语\" clearable />\n      </el-form-item>\n    </template>\n  </el-form>\n  <span slot=\"footer\" class=\"dialog-footer\">\n    <el-button @click=\"visible = false\">{{$t('common.cancelButton')}}</el-button>\n    <el-button type=\"primary\" @click=\"confirm\">\n      {{$t('common.confirmButton')}}</el-button>\n  </span>\n</el-dialog>\n",null]}