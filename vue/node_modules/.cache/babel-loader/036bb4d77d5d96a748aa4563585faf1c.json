{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!/Users/交安/gas/vue/gas-web/src/components/VisualPortal/mixins/common.js","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/components/VisualPortal/mixins/common.js","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/babel.config.js","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/\\u4EA4\\u5B89/gas/vue/gas-web/node_modules/_@babel_runtime@7.24.5@@babel/runtime/helpers/interopRequireDefault.js\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es6.number.constructor\");\nrequire(\"core-js/modules/es6.number.is-integer\");\nrequire(\"regenerator-runtime/runtime\");\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"/Users/\\u4EA4\\u5B89/gas/vue/gas-web/node_modules/_@babel_runtime-corejs2@7.24.5@@babel/runtime-corejs2/helpers/asyncToGenerator.js\"));\nrequire(\"core-js/modules/es7.array.includes\");\nvar _CardHeader = _interopRequireDefault(require(\"../CardHeader\"));\nvar _Link = _interopRequireDefault(require(\"../Link\"));\nvar _dataInterface = require(\"@/api/systemData/dataInterface\");\nvar arrayList = ['carousel', 'rankList', 'timeAxis'];\nvar _default2 = exports.default = {\n  components: {\n    CardHeader: _CardHeader.default,\n    webLink: _Link.default\n  },\n  props: {\n    activeData: {\n      type: Object,\n      default: function _default() {}\n    }\n  },\n  data: function data() {\n    return {\n      marqueeKey: +new Date(),\n      key: +new Date(),\n      fistData: {},\n      secondData: {},\n      thirdData: {},\n      otherDataList: [],\n      listLoading: false,\n      value: '',\n      list: [],\n      timeList: []\n    };\n  },\n  watch: {\n    'option.styleType': {\n      handler: function handler(val) {\n        if (this.jnpfKey == 'rankList' && (val == 3 || val == 4)) this.handleRankList();\n      }\n    },\n    'activeData.dataType': {\n      handler: function handler(val) {\n        if (!this.activeData || this.activeData == {}) return;\n        if (arrayList.includes(this.jnpfKey)) {\n          this.option.defaultValue = [];\n          this.list = [];\n        }\n      }\n    },\n    'option.defaultValue': {\n      handler: function handler(val) {\n        if (!this.activeData || this.activeData == {}) return;\n        this.initData();\n      },\n      immediate: true,\n      deep: true\n    },\n    'activeData.propsApi': {\n      handler: function handler(val) {\n        var _this = this;\n        if (!this.activeData || this.activeData == {}) return;\n        if (this.activeData.dataType === 'static' || !val) return;\n        (0, _dataInterface.getDataInterfaceRes)(val).then(function (res) {\n          if (arrayList.includes(_this.jnpfKey)) {\n            _this.list = [];\n            if (Array.isArray(res.data)) _this.list = res.data;\n            if (_this.jnpfKey == 'rankList' && (_this.option.styleType == 3 || _this.option.styleType == 4)) _this.handleRankList();\n            if (_this.jnpfKey == 'timeAxis') _this.initTimeAxis();\n          } else {\n            _this.value = '';\n            _this.value = res.data;\n          }\n          _this.key = +new Date();\n        });\n      },\n      immediate: true,\n      deep: true\n    },\n    'option.showNumber': {\n      handler: function handler(val) {\n        this.initTimeAxis();\n      }\n    },\n    'option.sortable': {\n      handler: function handler(val) {\n        this.initTimeAxis();\n      }\n    }\n  },\n  computed: {\n    option: function option() {\n      return this.activeData.option;\n    },\n    jnpfKey: function jnpfKey() {\n      return this.activeData.jnpfKey;\n    }\n  },\n  created: function created() {\n    this.initData();\n  },\n  methods: {\n    initData: function initData() {\n      var _this2 = this;\n      if (this.activeData.dataType === 'dynamic') {\n        var propsApi = this.activeData.propsApi;\n        if (!propsApi) return;\n        (0, _dataInterface.getDataInterfaceRes)(propsApi).then(function (res) {\n          _this2.handleData(res.data);\n        });\n      } else {\n        this.handleData(this.activeData.option.defaultValue);\n      }\n    },\n    handleData: function handleData(val) {\n      var option = this.activeData.option;\n      var jnpfKey = this.activeData.jnpfKey;\n      if (arrayList.includes(this.jnpfKey)) {\n        this.list = JSON.parse(JSON.stringify(val));\n      } else {\n        this.value = JSON.parse(JSON.stringify(val));\n      }\n      if (jnpfKey == 'rankList' && (option.styleType == 3 || option.styleType == 4)) this.handleRankList();\n      if (jnpfKey == 'timeAxis') this.initTimeAxis();\n      if (jnpfKey == 'video' && option.styleType == 1 && val.url) this.value = this.define.comUrl + val.url;\n    },\n    handleRankList: function handleRankList() {\n      this.fistData = {};\n      this.secondData = {};\n      this.thirdData = {};\n      this.otherDataList = [];\n      if (this.list && this.list.length) this.fistData = this.list[0];\n      if (this.list && this.list.length && this.list.length >= 2) this.secondData = this.list[1];\n      if (this.list && this.list.length && this.list.length >= 3) this.thirdData = this.list[2];\n      this.otherDataList = JSON.parse(JSON.stringify(this.list)).slice(3, this.list.length);\n    },\n    handleCarousel: function () {\n      var _handleCarousel = (0, _asyncToGenerator2.default)( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var i, ele, res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              i = 0;\n            case 1:\n              if (!(i < this.list.length)) {\n                _context.next = 12;\n                break;\n              }\n              ele = this.list[i];\n              if (ele.dataType == 1) ele.imageUrl = this.define.comUrl + ele.imageUrl;\n              if (!(ele.dataType == 3)) {\n                _context.next = 9;\n                break;\n              }\n              _context.next = 7;\n              return (0, _dataInterface.getDataInterfaceRes)(ele.propsApi);\n            case 7:\n              res = _context.sent;\n              ele.imageUrl = res.data;\n            case 9:\n              i++;\n              _context.next = 1;\n              break;\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function handleCarousel() {\n        return _handleCarousel.apply(this, arguments);\n      }\n      return handleCarousel;\n    }(),\n    handleRowStyle: function handleRowStyle(_ref) {\n      var row = _ref.row,\n        rowIndex = _ref.rowIndex;\n      var style = {\n        height: '55px'\n      };\n      if (rowIndex == 0) style.color = '#CE7C1F';\n      if (rowIndex == 1) style.color = '#6F89AC';\n      if (rowIndex == 2) style.color = '#8D4112';\n      return style;\n    },\n    initTimeAxis: function initTimeAxis() {\n      var showNumber = this.option.showNumber || 50;\n      var list = showNumber && Number.isInteger(showNumber) ? this.list.slice(0, showNumber) : this.list;\n      this.timeList = JSON.parse(JSON.stringify(list));\n      if (this.activeData.option.sortable == 2) this.timeList.reverse();\n    },\n    getColor: function getColor(index) {\n      if (index == 0) return '#3ED538';\n      if (this.timeList.length - 1 == index) return '#1990FA';\n      return '';\n    }\n  }\n};",null]}