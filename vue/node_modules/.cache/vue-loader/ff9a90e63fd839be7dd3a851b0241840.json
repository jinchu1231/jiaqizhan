{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/components/JsonEditor/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/components/JsonEditor/index.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n\nimport CodeMirror from 'codemirror'\nimport './codemirror.css';\nimport 'codemirror/addon/lint/lint.css'\nimport 'codemirror/lib/codemirror.css'\nimport 'codemirror/theme/rubyblue.css'\nrequire('script-loader!jsonlint')\nimport 'codemirror/mode/javascript/javascript'\nimport 'codemirror/addon/lint/lint'\nimport 'codemirror/addon/lint/json-lint'\n// 代码提示功能具体语言可以从 codemirror/addon/hint/下引入多个\nimport 'codemirror/mode/sql/sql';\nimport 'codemirror/addon/hint/show-hint.css';\nimport 'codemirror/addon/hint/show-hint';\nimport 'codemirror/addon/hint/sql-hint';\n\n// 自动括号匹配功能\nimport 'codemirror/addon/edit/matchbrackets'\nimport 'codemirror/addon/edit/closebrackets'\n\nexport default {\n  name: 'JsonEditor',\n  /* eslint-disable vue/require-prop-types */\n  props: {\n    value: {\n      default: '',\n    },\n    mode: {\n      type: String,\n      default: 'json'\n    },\n    readOnly: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      jsonEditor: null,\n      options: {\n        lineNumbers: true,\n        mode: this.mode,\n        readOnly: this.readOnly,\n        tabSize: 2,\n        lineWrapping: true,\n        styleActiveLine: true, //Line选择是是否加亮\n        matchBrackets: true,\n        autoCloseBrackets: true, //括号匹配\n        extraKeys: { \"Ctrl-Space\": \"autocomplete\" },\n        hintOptions: {\n          keywords: ['SUM', 'SUBTRACT', 'PRODUCT', 'DIVIDE', 'COUNT'],\n        }\n        // gutters: ['CodeMirror-lint-markers'],\n        // theme: 'rubyblue',\n        // lint: true\n      }\n    }\n  },\n  watch: {\n    value(value) {\n      const editorValue = this.jsonEditor.getValue()\n      if (value !== editorValue) {\n        this.jsonEditor.setValue(this.value)\n      }\n    }\n  },\n  mounted() {\n    this.jsonEditor = CodeMirror.fromTextArea(this.$refs.textarea, this.options)\n    var mode = this.jsonEditor.doc.modeOption\n    this.jsonEditor.setValue(this.value)\n    this.jsonEditor.on('change', cm => {\n      this.$emit('changed', cm.getValue())\n      this.$emit('input', cm.getValue())\n    })\n  },\n  methods: {\n    getValue() {\n      return this.jsonEditor.getValue()\n    },\n    insert(val, hasBrackets) {\n      this.jsonEditor.replaceSelection(val)\n      this.jsonEditor.focus()\n      let pos1 = this.jsonEditor.getCursor()\n      let pos2 = {}\n      pos2.line = pos1.line\n      pos2.ch = hasBrackets ? pos1.ch - 1 : pos1.ch\n      this.jsonEditor.setCursor(pos2)\n    }\n  }\n}\n",null]}