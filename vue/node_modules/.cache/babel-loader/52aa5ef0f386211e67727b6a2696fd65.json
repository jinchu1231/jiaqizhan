{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/components/Generator/index/RightComponents/RTable/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/components/Generator/index/RightComponents/RTable/index.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/babel.config.js","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/\\u4EA4\\u5B89/gas/vue/gas-web/node_modules/_@babel_runtime@7.24.5@@babel/runtime/helpers/interopRequireDefault.js\");\nrequire(\"core-js/modules/es7.object.get-own-property-descriptors\");\nrequire(\"core-js/modules/web.dom.iterable\");\nrequire(\"core-js/modules/es6.object.keys\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"/Users/\\u4EA4\\u5B89/gas/vue/gas-web/node_modules/_@babel_runtime-corejs2@7.24.5@@babel/runtime-corejs2/helpers/defineProperty.js\"));\nrequire(\"core-js/modules/es7.array.includes\");\nrequire(\"core-js/modules/es6.string.includes\");\nvar _toConsumableArray2 = _interopRequireDefault(require(\"/Users/\\u4EA4\\u5B89/gas/vue/gas-web/node_modules/_@babel_runtime-corejs2@7.24.5@@babel/runtime-corejs2/helpers/toConsumableArray.js\"));\nvar _AddTableForm = _interopRequireDefault(require(\"./AddTableForm\"));\nvar _vuedraggable = _interopRequireDefault(require(\"vuedraggable\"));\nvar _ComplexHeader = _interopRequireDefault(require(\"@/components/Generator/components/ComplexHeader\"));\nvar _config = require(\"@/components/Generator/generator/config\");\nvar _comConfig = require(\"@/components/Generator/generator/comConfig\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; } //\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nvar defaultAddTableConf = {\n  popupTitle: '选择数据',\n  popupType: 'dialog',\n  popupWidth: '800px',\n  dataSource: 'dynamic',\n  interfaceId: '',\n  interfaceName: '',\n  templateJson: [],\n  hasPage: true,\n  pageSize: 20,\n  columnOptions: [],\n  relationOptions: []\n};\nvar defaultColumnBtnsList = [{\n  value: 'copy',\n  label: '复制',\n  show: true,\n  btnType: 'primary',\n  btnIcon: 'icon-ym icon-ym-btn-edit'\n}, {\n  value: 'remove',\n  label: '删除',\n  show: true,\n  btnType: 'danger',\n  btnIcon: 'icon-ym icon-ym-btn-clearn',\n  showConfirm: true\n}];\nvar defaultFooterBtnsList = [{\n  value: 'add',\n  label: '添加',\n  show: true,\n  btnType: 'primary',\n  btnIcon: 'icon-ym icon-ym-btn-add'\n}, {\n  value: 'batchRemove',\n  label: '批量删除',\n  show: true,\n  btnType: 'danger',\n  btnIcon: 'icon-ym icon-ym-btn-clearn',\n  showConfirm: true\n}];\nvar _default = exports.default = {\n  props: ['activeData', 'showType', 'modelType'],\n  components: {\n    Form: _AddTableForm.default,\n    ComplexHeader: _ComplexHeader.default,\n    draggable: _vuedraggable.default\n  },\n  data: function data() {\n    return {\n      formVisible: false,\n      thousandsOptions: [],\n      complexHeaderVisible: false,\n      defaultAddTableConf: defaultAddTableConf,\n      activeRowIndex: 0,\n      activeRowType: ''\n    };\n  },\n  computed: {\n    getBaseOptions: function getBaseOptions() {\n      var noTableList = [].concat((0, _toConsumableArray2.default)(_comConfig.noTableAllowList), ['table']);\n      return _config.inputComponents.filter(function (o) {\n        return !noTableList.includes(o.__config__ && o.__config__.jnpfKey);\n      });\n    },\n    getSeniorOptions: function getSeniorOptions() {\n      var noTableList = [].concat((0, _toConsumableArray2.default)(_comConfig.noTableAllowList), ['table']);\n      var list = _config.selectComponents.filter(function (o) {\n        return !noTableList.includes(o.__config__ && o.__config__.jnpfKey);\n      });\n      if (this.modelType == 1 || this.modelType == 6) list = [].concat((0, _toConsumableArray2.default)(list), [_comConfig.calculateItem]);\n      return list;\n    }\n  },\n  mounted: function mounted() {\n    if (!this.activeData.columnBtnsList || !this.activeData.columnBtnsList.length) this.activeData.columnBtnsList = JSON.parse(JSON.stringify(defaultColumnBtnsList));\n    if (!this.activeData.footerBtnsList || !this.activeData.footerBtnsList.length) this.activeData.footerBtnsList = JSON.parse(JSON.stringify(defaultFooterBtnsList));\n  },\n  methods: {\n    editConf: function editConf(item, index, type) {\n      var _this = this;\n      this.activeRowIndex = index;\n      this.activeRowType = type;\n      var defaultAddTableConf = {};\n      if (!item) {\n        item = {};\n        defaultAddTableConf = JSON.parse(JSON.stringify(this.defaultAddTableConf));\n        item.value = 'btn-' + this.jnpf.idGenerator();\n        item.label = '';\n        item.show = true;\n        item.btnIcon = '';\n        item.btnType = '';\n      } else if (!['copy', 'remove', 'add', 'batchRemove'].includes(item.value)) {\n        defaultAddTableConf = JSON.parse(JSON.stringify(item.actionConfig));\n      }\n      this.formVisible = true;\n      this.$nextTick(function () {\n        _this.$refs.Form.init(item, defaultAddTableConf, _this.activeData.__config__.children);\n      });\n    },\n    addBtnChange: function addBtnChange(e) {\n      if (!e) {\n        this.activeData.addType = e ? 1 : 0;\n        this.activeData.addTableConf = JSON.parse(JSON.stringify(defaultAddTableConf));\n      }\n    },\n    setAction: function setAction(e) {\n      if (!e) this.activeData.addTableConf = JSON.parse(JSON.stringify(defaultAddTableConf));\n    },\n    closeForm: function closeForm(val) {\n      if (val) this.activeData.__config__.complexHeaderList = val;\n      this.complexHeaderVisible = false;\n    },\n    addComplexHeader: function addComplexHeader() {\n      var _this2 = this;\n      this.complexHeaderVisible = true;\n      var list = this.activeData.__config__.children.filter(function (o) {\n        return o.__vModel__ && o.__config__.tableFixed === 'none';\n      });\n      var complexHeaderList = JSON.parse(JSON.stringify(this.activeData.__config__.complexHeaderList));\n      complexHeaderList = this.updateComplexHeader(complexHeaderList, list) || [];\n      this.$nextTick(function () {\n        _this2.$refs.ComplexHeader.init(complexHeaderList, list);\n      });\n    },\n    updateComplexHeader: function updateComplexHeader(complexHeaderList, list) {\n      if (!complexHeaderList.length) return [];\n      for (var i = 0; i < complexHeaderList.length; i++) {\n        var e = complexHeaderList[i];\n        e.childColumns = e.childColumns.filter(function (o) {\n          return list.some(function (item) {\n            return item.__vModel__ == o;\n          });\n        });\n      }\n      return complexHeaderList;\n    },\n    updateConf: function updateConf(item, actionConfig) {\n      if (['copy', 'remove', 'add', 'batchRemove'].includes(item.value)) return this.$set(this.activeData[this.activeRowType], this.activeRowIndex, item);\n      if (this.activeRowIndex >= 0) return this.$set(this.activeData[this.activeRowType], this.activeRowIndex, _objectSpread(_objectSpread({}, item), {}, {\n        actionConfig: actionConfig\n      }));\n      this.activeData[this.activeRowType].push(_objectSpread(_objectSpread({}, item), {}, {\n        actionConfig: actionConfig\n      }));\n    },\n    addHandle: function addHandle(item) {\n      if (this.$store.getters.hasTable && !this.activeData.__config__.tableName) return this.$message.warning('子表请先关联数据表');\n      item.__config__.isSubTable = true;\n      item.__config__.parentVModel = this.activeData.__vModel__;\n      if (this.$store.getters.hasTable) item.__config__.relationTable = this.activeData.__config__.tableName;\n      this.$emit('addComponent', item, this.activeData.__config__.children);\n    }\n  }\n};",null]}