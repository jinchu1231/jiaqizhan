{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/views/onlineDev/webDesign/Form.vue?vue&type=template&id=6766e2b0","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/views/onlineDev/webDesign/Form.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<el-dialog :visible.sync=\"visible\" fullscreen lock-scroll class=\"JNPF-full-dialog\"\n  :show-close=\"false\" :modal=\"false\">\n  <div class=\"JNPF-full-dialog-header\">\n    <div class=\"header-title\">\n      <img src=\"@/assets/images/jnpf.png\" class=\"header-logo\" />\n      <p class=\"header-txt\" v-if=\"activeStep==0\"> · 在线开发</p>\n      <el-tooltip class=\"item\" effect=\"dark\" :content=\"dataForm.fullName\" placement=\"top\" v-else\n        style=\"z-index:5000\">\n        <p class=\"header-txt\"> · {{dataForm.fullName}}</p>\n      </el-tooltip>\n    </div>\n    <el-steps :active=\"activeStep\" finish-status=\"success\" simple\n      :class=\"'steps steps'+(maxStep+1)\" v-if=\"!loading\">\n      <el-step title=\"基础设置\" @click.native=\"stepChick(0)\" />\n      <el-step title=\"表单设计\" @click.native=\"stepChick(1)\" />\n      <el-step title=\"列表设计\" @click.native=\"stepChick(2)\" v-if=\"maxStep>=2\" />\n    </el-steps>\n    <div class=\"options\">\n      <el-button @click=\"changeList(1)\" v-if=\"activeStep==2&&dataForm.webType==2\" type=\"warning\">\n        关闭列表\n      </el-button>\n      <el-button @click=\"prev\" :disabled=\"activeStep<=0\">{{$t('common.prev')}}</el-button>\n      <el-button @click=\"next\" :disabled=\"activeStep>=maxStep || loading\">{{$t('common.next')}}\n      </el-button>\n      <el-button type=\"primary\" @click=\"dataFormSubmit()\" :disabled=\"loading\"\n        :loading=\"btnLoading\">{{$t('common.saveButton')}}</el-button>\n      <el-button @click=\"closeDialog()\">{{$t('common.cancelButton')}}</el-button>\n    </div>\n  </div>\n  <div class=\"main\" v-loading=\"loading\">\n    <el-row type=\"flex\" justify=\"center\" align=\"middle\" v-if=\"!activeStep\" class=\"basic-box\">\n      <el-col :xs=\"12\" :sm=\"12\" :md=\"12\" :lg=\"12\" :xl=\"10\" class=\"basicForm\">\n        <el-form :model=\"dataForm\" :rules=\"dataRule\" ref=\"dataForm\" label-width=\"80px\"\n          @submit.native.prevent label-position=\"right\">\n          <el-form-item label=\"功能名称\" prop=\"fullName\">\n            <el-input v-model=\"dataForm.fullName\" placeholder=\"功能名称\" maxlength=\"100\">\n            </el-input>\n          </el-form-item>\n          <el-form-item label=\"功能编码\" prop=\"enCode\">\n            <el-input v-model=\"dataForm.enCode\" placeholder=\"功能编码\" maxlength=\"50\">\n            </el-input>\n          </el-form-item>\n          <el-form-item label=\"功能分类\" prop=\"category\">\n            <el-select v-model=\"dataForm.category\" placeholder=\"选择分类\" filterable>\n              <el-option :key=\"item.id\" :label=\"item.fullName\" :value=\"item.id\"\n                v-for=\"item in categoryList\" />\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"功能类型\" prop=\"enableFlow\">\n            <el-radio-group v-model=\"dataForm.enableFlow\" size=\"small\">\n              <el-radio-button :label=\"0\">普通表单</el-radio-button>\n              <el-radio-button :label=\"1\">流程表单</el-radio-button>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item label=\"功能排序\" prop=\"sortCode\">\n            <el-input-number :min=\"0\" :max=\"999999\" v-model=\"dataForm.sortCode\"\n              controls-position=\"right\" />\n          </el-form-item>\n          <el-form-item label=\"功能说明\" prop=\"description\">\n            <el-input v-model=\"dataForm.description\" placeholder=\"功能说明\" type=\"textarea\"\n              :rows=\"3\" />\n          </el-form-item>\n          <el-form-item label=\"数据连接\">\n            <el-select v-model=\"dataForm.dbLinkId\" placeholder=\"请选择数据库\" @change=\"onDbChange\"\n              clearable filterable>\n              <el-option-group v-for=\"group in dbOptions\" :key=\"group.fullName\"\n                :label=\"group.fullName\">\n                <el-option v-for=\"item in group.children\" :key=\"item.id\" :label=\"item.fullName\"\n                  :value=\"item.id\" />\n              </el-option-group>\n            </el-select>\n          </el-form-item>\n          <el-table :data=\"tables\" class=\"JNPF-common-table\"\n            empty-text=\"点击“新增”可选择1条(单表)或2条以上(多表)，未选择数据表时系统将会自动创建数据表\">\n            <el-table-column type=\"index\" label=\"序号\" width=\"50\" align=\"center\" />\n            <el-table-column prop=\"typeId\" label=\"类别\" width=\"65\">\n              <template slot-scope=\"scope\">\n                <el-tag v-if=\"scope.row.typeId=='1'\">主表</el-tag>\n                <el-tag type=\"warning\" v-else @click=\"changeTable(scope.row)\"\n                  style=\"cursor:pointer\" title=\"点击设置成主表\">从表</el-tag>\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"table\" label=\"表名\">\n              <template slot-scope=\"scope\">\n                <el-tooltip :content=\"scope.row.tableName||scope.row.table\" placement=\"top\">\n                  <span>{{scope.row.table}}</span>\n                </el-tooltip>\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"tableField\" label=\"外键字段\">\n              <template slot-scope=\"scope\" v-if=\"scope.row.typeId !=='1'\">\n                <el-select v-model=\"scope.row.tableField\" placeholder=\"请选择\" filterable>\n                  <el-option v-for=\"item in scope.row.fields\" :key=\"item.field\"\n                    :label=\"item.field\" :value=\"item.field\">\n                  </el-option>\n                </el-select>\n              </template>\n            </el-table-column>\n            <!-- <el-table-column prop=\"relationTable\" label=\"关联主表\" /> -->\n            <el-table-column prop=\"relationField\" label=\"关联主键\">\n              <template slot-scope=\"scope\" v-if=\"scope.row.typeId !=='1'\">\n                <el-select v-model=\"scope.row.relationField\" placeholder=\"请选择\" filterable>\n                  <el-option v-for=\"item in mainTableFields\" :key=\"item.field\" :label=\"item.field\"\n                    :value=\"item.field\">\n                  </el-option>\n                </el-select>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" fixed=\"right\" width=\"50\">\n              <template slot-scope=\"scope\">\n                <el-button size=\"mini\" type=\"text\" class=\"JNPF-table-delBtn\"\n                  @click=\"delItem(scope.row,scope.$index)\">移除\n                </el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n          <div class=\"table-actions\" @click=\"openTableBox\">\n            <el-button type=\"text\" icon=\"el-icon-plus\">新增一行</el-button>\n          </div>\n        </el-form>\n      </el-col>\n    </el-row>\n    <template v-if=\"activeStep==1\">\n      <Generator ref=\"generator\" :conf=\"formData\" :modelType=\"dataForm.type\"\n        :webType=\"dataForm.webType\" :dbType=\"dbType\" :formInfo='dataForm' />\n    </template>\n    <template v-if=\"activeStep==2\">\n      <columnDesign ref=\"columnDesign\" :columnData=\"columnData\" :appColumnData=\"appColumnData\"\n        :modelType=\"dataForm.type\" :webType=\"dataForm.webType\" @openList=\"changeList(2)\" />\n    </template>\n  </div>\n  <TableForm :visible.sync=\"formVisible\" ref=\"tableForm\" @closeForm=\"closeForm\"\n    :dbLinkId=\"dataForm.dbLinkId\" />\n</el-dialog>\n",null]}