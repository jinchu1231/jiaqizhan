{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js!/Users/交安/gas/vue/gas-web/src/components/Generator/render/render.js","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/components/Generator/render/render.js","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/babel.config.js","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000}],"contextDependencies":[],"result":["\"use strict\";\n\nvar _interopRequireDefault = require(\"/Users/\\u4EA4\\u5B89/gas/vue/gas-web/node_modules/_@babel_runtime@7.24.5@@babel/runtime/helpers/interopRequireDefault.js\");\nrequire(\"core-js/modules/es7.object.get-own-property-descriptors\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"/Users/\\u4EA4\\u5B89/gas/vue/gas-web/node_modules/_@babel_runtime-corejs2@7.24.5@@babel/runtime-corejs2/helpers/defineProperty.js\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"/Users/\\u4EA4\\u5B89/gas/vue/gas-web/node_modules/_@babel_runtime-corejs2@7.24.5@@babel/runtime-corejs2/helpers/toConsumableArray.js\"));\nvar _typeof2 = _interopRequireDefault(require(\"/Users/\\u4EA4\\u5B89/gas/vue/gas-web/node_modules/_@babel_runtime-corejs2@7.24.5@@babel/runtime-corejs2/helpers/typeof.js\"));\nrequire(\"core-js/modules/es7.array.includes\");\nrequire(\"core-js/modules/es6.string.includes\");\nrequire(\"core-js/modules/es6.regexp.constructor\");\nrequire(\"core-js/modules/es6.object.keys\");\nrequire(\"core-js/modules/web.dom.iterable\");\nvar _utils = require(\"@/utils\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction vModel(dataObject, defaultValue) {\n  var _this = this;\n  dataObject.props.value = defaultValue;\n  dataObject.on.input = function (val) {\n    _this.$emit('input', val);\n  };\n}\nfunction emitEvents(confClone) {\n  var _this2 = this;\n  ['on', 'nativeOn'].forEach(function (attr) {\n    var eventKeyList = Object.keys(confClone[attr] || {});\n    eventKeyList.forEach(function (key) {\n      var val = confClone[attr][key];\n      if (typeof key === 'string') {\n        confClone[attr][key] = function () {\n          for (var _len = arguments.length, arg = new Array(_len), _key = 0; _key < _len; _key++) {\n            arg[_key] = arguments[_key];\n          }\n          return _this2.$emit(key, arg);\n        };\n      }\n    });\n  });\n}\nfunction buildDataObject(confClone, dataObject, formData) {\n  var _this3 = this;\n  var jnpfKey = confClone.__config__.jnpfKey;\n  Object.keys(confClone).forEach(function (key) {\n    var val = confClone[key];\n    if (key === '__vModel__') {\n      vModel.call(_this3, dataObject, confClone.__config__.defaultValue);\n    } else if (key === 'props') {\n      dataObject[key][key] = val;\n    } else if (dataObject[key] !== undefined) {\n      if (dataObject[key] === null || dataObject[key] instanceof RegExp || ['boolean', 'string', 'number', 'function'].includes((0, _typeof2.default)(dataObject[key]))) {\n        dataObject[key] = val;\n      } else if (Array.isArray(dataObject[key])) {\n        dataObject[key] = [].concat((0, _toConsumableArray2.default)(dataObject[key]), (0, _toConsumableArray2.default)(val));\n      } else {\n        dataObject[key] = _objectSpread(_objectSpread({}, dataObject[key]), val);\n      }\n    } else {\n      dataObject.attrs[key] = val;\n    }\n  });\n  if (['calculate', 'table', 'barcode', 'qrcode', 'popupSelect', 'popupTableSelect', 'autoComplete'].includes(jnpfKey)) {\n    dataObject.attrs['formData'] = formData;\n  }\n  if (['table'].includes(jnpfKey)) {\n    dataObject.attrs['relations'] = this.relations;\n    dataObject.attrs['vModel'] = confClone.__vModel__;\n  }\n  if (['popupAttr', 'calculate', 'relationFormAttr'].includes(jnpfKey)) {\n    dataObject.attrs['defaultValue'] = confClone.__config__.defaultValue;\n  }\n  if (['relationForm', 'popupSelect'].includes(jnpfKey)) {\n    dataObject.attrs['field'] = confClone.__config__.tableName ? confClone.__vModel__ + '_jnpfTable_' + confClone.__config__.tableName + (confClone.__config__.isSubTable ? '0' : \"1\") : confClone.__vModel__;\n  }\n  // 清理属性\n  clearAttrs(dataObject);\n}\nfunction clearAttrs(dataObject) {\n  delete dataObject.attrs.__config__;\n  delete dataObject.attrs.__slot__;\n  delete dataObject.attrs.__methods__;\n}\nfunction makeDataObject() {\n  return {\n    class: {},\n    attrs: {},\n    props: {},\n    domProps: {},\n    nativeOn: {},\n    on: {},\n    style: {},\n    directives: [],\n    scopedSlots: {},\n    slot: null,\n    key: null,\n    ref: null,\n    refInFor: true\n  };\n}\nvar _default2 = exports.default = {\n  props: {\n    conf: {\n      type: Object,\n      required: true\n    },\n    formData: {\n      type: Object,\n      default: function _default() {}\n    },\n    relations: Object\n  },\n  render: function render(h) {\n    var dataObject = makeDataObject();\n    var confClone = (0, _utils.deepClone)(this.conf);\n    var children = this.$slots.default || [];\n\n    // 将字符串类型的事件，发送为消息\n    emitEvents.call(this, confClone);\n\n    // 将json表单配置转化为vue render可以识别的 “数据对象（dataObject）”\n    buildDataObject.call(this, confClone, dataObject, this.formData);\n    return h(this.conf.__config__.tag, dataObject, children);\n  }\n};",null]}