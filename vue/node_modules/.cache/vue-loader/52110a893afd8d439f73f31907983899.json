{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/components/ScheduleView/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/components/ScheduleView/index.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { ScheduleDetail, ScheduleDelete } from '@/api/onlineDev/schedule'\nexport default {\n  data() {\n    return {\n      visible: false,\n      loading: false,\n      files: [],\n      dataForm: {\n        id: 0,\n        category: '',\n        urgent: '',\n        startDay: '',\n        endDay: '',\n        content: '',\n        title: '',\n        toUserIds: '',\n        files: []\n      },\n      type: '',\n      checked: 1,\n      btnLoading: false,\n      delVisible: false,\n      groupId: '',\n      tableList: [\n        {\n          id: 1,\n          fullName: '此日程'\n        }, {\n          id: 2,\n          fullName: '此日程及后续'\n        }, {\n          id: 3,\n          fullName: '所有日程'\n        }\n      ],\n    }\n  },\n  methods: {\n    init(id, type, groupId) {\n      this.type = type\n      this.dataForm.id = id || 0\n      this.checked = 1\n      this.groupId = groupId || 0\n      this.loading = true\n      this.$nextTick(() => {\n        ScheduleDetail(this.groupId, this.dataForm.id).then(res => {\n          this.dataForm = res.data || {}\n          this.dataForm.files = this.dataForm.files ? JSON.parse(this.dataForm.files) : [];\n          this.visible = true\n        }).catch(() => {\n          this.loading = false\n          this.visible = false\n        })\n      })\n    },\n    handleDel() {\n      if (this.dataForm.repetition != \"1\") {\n        if (!this.delVisible) {\n          this.delVisible = true\n        } else {\n          this.btnLoading = true\n          if (!this.checked) return this.$message('请选择日程')\n          ScheduleDelete(this.dataForm.id, this.checked).then(res => {\n            this.$message({\n              message: res.msg,\n              type: 'success',\n              duration: 1500,\n            })\n            this.btnLoading = false\n            this.delVisible = false\n            this.visible = false\n            this.$emit('refreshDataList')\n          }).catch(() => { this.btnLoading = false });\n        }\n      } else {\n        this.$confirm('此操作将删除日程，是否继续？', '提示', {\n          type: 'warning'\n        }).then(() => {\n          ScheduleDelete(this.dataForm.id, 3).then(res => {\n            this.$message({\n              message: res.msg,\n              type: 'success',\n              duration: 1500,\n            })\n            this.visible = false\n            this.$emit('refreshDataList')\n          })\n        }).catch(() => { });\n      }\n    },\n  }\n}\n",null]}