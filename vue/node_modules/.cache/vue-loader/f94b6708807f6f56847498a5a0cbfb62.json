{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/views/workFlow/entrust/index.vue?vue&type=template&id=1d170d08&scoped=true","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/views/workFlow/entrust/index.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div class=\"JNPF-common-layout\">\n  <div class=\"JNPF-common-layout-center\">\n    <el-row class=\"JNPF-common-search-box\" :gutter=\"16\">\n      <el-form @submit.native.prevent>\n        <el-col :span=\"6\">\n          <el-form-item label=\"关键词\">\n            <el-input v-model=\"keyword\" placeholder=\"请输入关键词查询\" clearable\n              @keyup.enter.native=\"search()\" />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-form-item>\n            <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"search()\">\n              {{$t('common.search')}}</el-button>\n            <el-button icon=\"el-icon-refresh-right\" @click=\"reset()\">{{$t('common.reset')}}\n            </el-button>\n          </el-form-item>\n        </el-col>\n      </el-form>\n    </el-row>\n    <el-tabs v-model=\"activeName\" type=\"border-card\" class=\"JNPF-el_tabs\"\n      @tab-click=\"activeClick\">\n      <el-tab-pane label=\"委托发起\">\n        <div class=\"JNPF-common-layout-main JNPF-flex-main\">\n          <div class=\"JNPF-common-head\">\n            <topOpts @add=\"dialogVisible=true\" addText=\"发起委托\"></topOpts>\n            <div class=\"JNPF-common-head-right\">\n              <el-tooltip effect=\"dark\" :content=\"$t('common.refresh')\" placement=\"top\">\n                <el-link icon=\"icon-ym icon-ym-Refresh JNPF-common-head-icon\" :underline=\"false\"\n                  @click=\"initFlowList()\" />\n              </el-tooltip>\n            </div>\n          </div>\n          <JNPF-table v-loading=\"flowListLoading\" :data=\"flowList\">\n            <el-table-column prop=\"fullName\" label=\"流程标题\" show-overflow-tooltip min-width=\"150\" />\n            <el-table-column prop=\"flowName\" label=\"所属流程\" width=\"130\" show-overflow-tooltip />\n            <el-table-column prop=\"startTime\" label=\"发起时间\" width=\"140\"\n              :formatter=\"jnpf.tableDateFormat\" />\n            <el-table-column prop=\"thisStep\" label=\"审批节点\" width=\"150\" />\n            <el-table-column prop=\"flowUrgent\" label=\"紧急程度\" width=\"100\" align=\"center\">\n              <template slot-scope=\"scope\">\n                {{ scope.row.flowUrgent | urgentText() }}\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"status\" label=\"流程状态\" width=\"130\" align=\"center\">\n              <template slot-scope=\"scope\">\n                <el-tag type=\"primary\" v-if=\"scope.row.status==1\">等待审核</el-tag>\n                <el-tag type=\"success\" v-else-if=\"scope.row.status==2\">审核通过</el-tag>\n                <el-tag type=\"danger\" v-else-if=\"scope.row.status==3\">审核退回</el-tag>\n                <el-tag type=\"info\"\n                  v-else-if=\"scope.row.status==4 ||scope.row.status==7\">流程撤回</el-tag>\n                <el-tag type=\"info\" v-else-if=\"scope.row.status==5\">审核终止</el-tag>\n                <el-tag type=\"warning\" v-else>等待提交</el-tag>\n              </template>\n            </el-table-column>\n            <el-table-column prop=\"completion\" label=\"流程进度\" width=\"150\">\n              <template slot-scope=\"scope\">\n                <p class=\"text-grey\" v-if=\"scope.row.status==5 || scope.row.completion == 0\">----\n                </p>\n                <p v-else-if=\" scope.row.completion == 100\">已完成</p>\n                <el-progress :percentage=\"scope.row.completion\" v-else></el-progress>\n              </template>\n            </el-table-column>\n            <el-table-column label=\"操作\" width=\"150\" fixed=\"right\">\n              <template slot-scope=\"scope\">\n                <el-button size=\"mini\" type=\"text\" @click=\"toDetail(scope.row,'-1')\"\n                  :disabled=\"[1,2,4,5].indexOf(scope.row.status)>-1\">编辑\n                </el-button>\n                <el-button size=\"mini\" type=\"text\" class=\"JNPF-table-delBtn\"\n                  @click=\"handleDelFlow(scope.$index,scope.row.id)\"\n                  :disabled=\"[1,2,3,5].indexOf(scope.row.status)>-1\">删除\n                </el-button>\n                <el-button size=\"mini\" type=\"text\" @click=\"toDetail(scope.row,0)\"\n                  :disabled=\"!scope.row.status\">详情\n                </el-button>\n              </template>\n            </el-table-column>\n          </JNPF-table>\n          <pagination :total=\"total\" :page.sync=\"listQuery.currentPage\"\n            :limit.sync=\"listQuery.pageSize\" @pagination=\"initFlowList\" />\n        </div>\n      </el-tab-pane>\n      <template v-for=\"item in delagateTypeList\">\n        <el-tab-pane :label=\"item.label\" :key=\"item.key\">\n          <div class=\"JNPF-common-layout-main JNPF-flex-main\">\n            <div class=\"JNPF-common-head\">\n              <topOpts @add=\"addOrUpdateHandle()\" addText=\"新建\" v-if=\"item.key=='1'\">\n              </topOpts>\n              <div style=\"height:33px\" v-else></div>\n              <div class=\"JNPF-common-head-right\">\n                <el-tooltip effect=\"dark\" :content=\"$t('common.refresh')\" placement=\"top\">\n                  <el-link icon=\"icon-ym icon-ym-Refresh JNPF-common-head-icon\" :underline=\"false\"\n                    @click=\"initData()\" />\n                </el-tooltip>\n              </div>\n            </div>\n            <JNPF-table v-loading=\"listLoading\" :data=\"list\">\n              <el-table-column prop=\"userName\" label=\"委托人\" width=\"150\" v-if=\"item.key=='2'\" />\n              <el-table-column prop=\"toUserName\" label=\"受委托人\" width=\"150\" />\n              <el-table-column prop=\"type\" label=\"委托类型\" width=\"150\">\n                <template slot-scope=\"scope\">\n                  <span v-if='scope.row.type==0'>发起委托</span>\n                  <span v-else>审批委托</span>\n                </template>\n              </el-table-column>\n              <el-table-column prop=\"flowName\" label=\"委托流程\" width=\"250\" show-overflow-tooltip />\n              <el-table-column prop=\"startTime\" label=\"开始时间\" width=\"140\"\n                :formatter=\"jnpf.tableDateFormat\">\n              </el-table-column>\n              <el-table-column prop=\"endTime\" label=\"结束时间\" width=\"140\"\n                :formatter=\"jnpf.tableDateFormat\">\n              </el-table-column>\n              <el-table-column prop=\"status\" label=\"状态\" width=\"100\" align=\"center\">\n                <template slot-scope=\"scope\">\n                  <el-tag type=\"info\" v-if='scope.row.status==1'>未开始</el-tag>\n                  <el-tag type=\"danger\" v-else-if='scope.row.status==2'>已失效</el-tag>\n                  <el-tag type=\"primary\" v-else>委托中</el-tag>\n                </template>\n              </el-table-column>\n              <el-table-column prop=\"description\" label=\"委托说明\" />\n              <el-table-column label=\"操作\" fixed=\"right\" width=\"150\" v-if=\"item.key=='1'\">\n                <template slot-scope=\"scope\">\n                  <tableOpts @edit=\"addOrUpdateHandle(scope.row.id)\"\n                    @del=\"handleDel(scope.$index,scope.row.id)\"\n                    :editDisabled=\"scope.row.status==2\">\n                    <template v-if='scope.row.status!=2'>\n                      <el-dropdown>\n                        <span class=\"el-dropdown-link\">\n                          <el-button type=\"text\" size=\"mini\">{{$t('common.moreBtn')}}<i\n                              class=\"el-icon-arrow-down el-icon--right\"></i>\n                          </el-button>\n                        </span>\n                        <el-dropdown-menu slot=\"dropdown\">\n                          <el-dropdown-item @click.native=\"delegation(scope.row.id)\">\n                            结束委托</el-dropdown-item>\n                        </el-dropdown-menu>\n                      </el-dropdown>\n                    </template>\n                  </tableOpts>\n                </template>\n              </el-table-column>\n            </JNPF-table>\n            <pagination :total=\"total\" :page.sync=\"listQuery.currentPage\"\n              :limit.sync=\"listQuery.pageSize\" @pagination=\"initData\" />\n          </div>\n        </el-tab-pane>\n      </template>\n    </el-tabs>\n  </div>\n  <Form v-if=\"formVisible\" ref=\"Form\" @refreshDataList=\"reset\" />\n  <MyEntrust v-if=\"flowVisible\" ref=\"MyEntrust\" @close=\"flowVisible=false\"\n    @choiceFlow=\"choiceFlow\" />\n  <FlowBox v-if=\"flowBoxVisible\" ref=\"FlowBox\" @close=\"closeForm\" />\n  <el-dialog title=\"发起人员\" :close-on-click-modal=\"false\" :visible.sync=\"visibleUsers\"\n    class=\"JNPF-dialog JNPF-dialog_center  JNPF-dialog_fq\" lock-scroll width=\"600px\">\n    <div class=\"user-list\">\n      <el-row v-if=\"flowUserList.length>1\">\n        <el-col :span=\"20\" :offset=\"2\" class=\"user-item\" v-for=\"(item,index) in flowUserList\"\n          :key=\"index\">\n          <div class=\"user-item-main\" :class=\"{active:checkUserList.includes(item.id)}\"\n            @click=\"checkUserChange(item.id)\">\n            <div class=\"user-avatar-div\">\n              <el-avatar class=\"user-avatar\" :size=\"40\" :src=\"define.comUrl+item.headIcon\">\n              </el-avatar>\n            </div>\n            <div>\n              <p class=\"user-name\">{{item.fullName}}</p>\n              <p class=\"user-organize\" :title=\"item.organize\">{{item.organize}}</p>\n            </div>\n            <div class=\"icon-checked\">\n              <i class=\"el-icon-check\"></i>\n            </div>\n          </div>\n        </el-col>\n      </el-row>\n    </div>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"visibleUsers = false\">{{$t('common.cancelButton')}}</el-button>\n      <el-button type=\"primary\" @click=\"dataFormSubmit()\">\n        {{$t('common.confirmButton')}}</el-button>\n    </span>\n  </el-dialog>\n  <el-dialog title=\"发起委托\" :visible.sync=\"dialogVisible\"\n    class=\"JNPF-dialog JNPF-dialog_center JNPF-dialog-add\" lock-scroll width=\"600px\">\n    <div class=\"add-main\">\n      <div class=\"add-item add-item-left\" @click=\"addFlow(0)\">\n        <i class=\"add-icon icon-ym icon-ym-launchFlow\"></i>\n        <div class=\"add-txt\">\n          <p class=\"add-title\">发起流程</p>\n          <p class=\"add-desc\">发起表单的业务流程</p>\n        </div>\n      </div>\n      <div class=\"add-item\" @click=\"addFlow(1)\">\n        <i class=\"add-icon icon-ym icon-ym-funcFlow\"></i>\n        <div class=\"add-txt\">\n          <p class=\"add-title\">功能流程</p>\n          <p class=\"add-desc\">发起功能的赋予流程</p>\n        </div>\n      </div>\n    </div>\n  </el-dialog>\n</div>\n",null]}