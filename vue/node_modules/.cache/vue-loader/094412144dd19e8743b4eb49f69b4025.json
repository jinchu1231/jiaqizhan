{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/components/Upload/SingleImg.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/components/Upload/SingleImg.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'SingleImg',\n  props: {\n    value: {\n      type: String,\n      default: ''\n    },\n    tip: {\n      type: String,\n      default: '上传图片'\n    },\n    type: {\n      type: String,\n      default: 'annexpic'\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    subTip: {\n      type: String,\n      default: ''\n    },\n  },\n  data() {\n    return {\n      imageUrl: '',\n      uploadHeaders: { Authorization: this.$store.getters.token }\n    }\n  },\n  computed: {\n    fileList() {\n      return this.imageUrl ? [this.define.comUrl + this.imageUrl] : []\n    }\n  },\n  watch: {\n    value: {\n      handler(val) {\n        this.imageUrl = val\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    beforeUpload(file) {\n      let isAccept = new RegExp('image/*').test(file.type)\n      if (!isAccept) {\n        this.$message.error(`请上传图片`)\n        return isAccept;\n      }\n    },\n    handleSuccess(res, file) {\n      if (res.code == 200) {\n        this.imageUrl = res.data.url;\n        this.$emit('input', res.data.url)\n      } else {\n        this.$message({ message: res.msg, type: 'error', duration: 1500 })\n      }\n    },\n    handlePictureCardPreview() {\n      this.$refs.image && this.$refs.image.clickHandler()\n    },\n    handleRemove() {\n      this.$emit(\"input\", '')\n    }\n  }\n}\n",null]}