{"remainingRequest":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js??vue-loader-options!/Users/交安/gas/vue/gas-web/src/views/extend/importAndExport/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/交安/gas/vue/gas-web/src/views/extend/importAndExport/index.vue","mtime":1706684850000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_babel-loader@8.3.0@babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/交安/gas/vue/gas-web/node_modules/_vue-loader@15.11.1@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { EmployeeList, EmployeeDelete } from '@/api/extend/employee'\nimport ImportForm from './ImportForm'\nimport ExportForm from './ExportForm'\nexport default {\n  name: 'extend-importAndExport',\n  components: { ExportForm, ImportForm },\n  data() {\n    return {\n      list: [],\n      total: 0,\n      listLoading: true,\n      listQuery: {\n        keyword: '',\n        condition: 'EnCode',\n        currentPage: 1,\n        pageSize: 20,\n        sort: 'desc'\n      },\n      options: [{ value: 'EnCode', label: '工号' },\n      { value: 'FullName', label: '姓名' },\n      { value: 'Telephone', label: '电话' },\n      { value: 'DepartmentName', label: '部门' },\n      { value: 'PositionName', label: '岗位' }],\n      importFormVisible: false,\n      exportFormVisible: false\n    }\n  },\n  created() {\n    this.initData()\n  },\n  methods: {\n    reset() {\n      this.listQuery.keyword = ''\n      this.listQuery.condition = 'EnCode'\n      this.search()\n    },\n    search() {\n      this.listQuery = {\n        ...this.listQuery,\n        currentPage: 1,\n        pageSize: 20,\n        sort: 'desc'\n      }\n      this.initData()\n    },\n    initData() {\n      this.listLoading = true\n      EmployeeList(this.listQuery).then(res => {\n        this.list = res.data.list\n        this.total = res.data.pagination.total\n        this.listLoading = false\n      })\n    },\n    handleDel(id, index) {\n      this.$confirm(this.$t('common.delTip'), this.$t('common.tipTitle'), {\n        type: 'warning'\n      }).then(() => {\n        EmployeeDelete(id).then(res => {\n          this.list.splice(index, 1)\n          this.$message({\n            type: 'success',\n            message: res.msg\n          })\n        })\n      }).catch(() => { })\n    },\n    exportForm() {\n      this.exportFormVisible = true\n      this.$nextTick(() => {\n        this.$refs.exportForm.init(this.listQuery)\n      })\n    },\n    uploadForm() {\n      this.importFormVisible = true\n      this.$nextTick(() => {\n        this.$refs.importForm.init()\n      })\n    }\n  }\n}\n",null]}